angular.module("gettext",[]),angular.module("gettext").constant("gettext",function(e){return e}),angular.module("gettext").factory("gettextCatalog",["gettextPlurals","gettextFallbackLanguage","$http","$cacheFactory","$interpolate","$rootScope",function(e,t,i,n,o,a){function r(){a.$broadcast("gettextLanguageChanged")}var s,l="$$noContext",c='<span id="test" title="test" class="tested">test</span>',u=angular.element("<span>"+c+"</span>").html()!==c,d=function(e){return s.debug&&s.currentLanguage!==s.baseLanguage?s.debugPrefix+e:e},m=function(e){return s.showTranslatedMarkers?s.translatedMarkerPrefix+e+s.translatedMarkerSuffix:e};return s={debug:!1,debugPrefix:"[MISSING]: ",showTranslatedMarkers:!1,translatedMarkerPrefix:"[",translatedMarkerSuffix:"]",strings:{},baseLanguage:"en",currentLanguage:"en",cache:n("strings"),setCurrentLanguage:function(e){this.currentLanguage=e,r()},getCurrentLanguage:function(){return this.currentLanguage},setStrings:function(e,t){this.strings[e]||(this.strings[e]={});for(var i in t){var n=t[i];if(u&&(i=angular.element("<span>"+i+"</span>").html()),angular.isString(n)||angular.isArray(n)){var o={};o[l]=n,n=o}for(var a in n){var s=n[a];n[a]=angular.isArray(s)?s:[s]}this.strings[e][i]=n}r()},getStringFormFor:function(t,i,n,o){if(!t)return null;var a=this.strings[t]||{},r=a[i]||{},s=r[o||l]||[];return s[e(t,n)]},getString:function(e,i,n){var a=t(this.currentLanguage);return e=this.getStringFormFor(this.currentLanguage,e,1,n)||this.getStringFormFor(a,e,1,n)||d(e),e=i?o(e)(i):e,m(e)},getPlural:function(e,i,n,a,r){var s=t(this.currentLanguage);return i=this.getStringFormFor(this.currentLanguage,i,e,r)||this.getStringFormFor(s,i,e,r)||d(1===e?i:n),a&&(a.$count=e,i=o(i)(a)),m(i)},loadRemote:function(e){return i({method:"GET",url:e,cache:s.cache}).then(function(e){var t=e.data;for(var i in t)s.setStrings(i,t[i]);return e})}}}]),angular.module("gettext").directive("translate",["gettextCatalog","$parse","$animate","$compile","$window",function(e,t,i,n,o){function a(e,t,i){if(!e)throw new Error("You should add a "+t+" attribute whenever you add a "+i+" attribute.")}var r=function(){return String.prototype.trim?function(e){return"string"==typeof e?e.trim():e}:function(e){return"string"==typeof e?e.replace(/^\s*/,"").replace(/\s*$/,""):e}}(),s=parseInt((/msie (\d+)/.exec(angular.lowercase(o.navigator.userAgent))||[])[1],10);return{restrict:"AE",terminal:!0,compile:function(o,l){a(!l.translatePlural||l.translateN,"translate-n","translate-plural"),a(!l.translateN||l.translatePlural,"translate-plural","translate-n");var c=r(o.html()),u=l.translatePlural,d=l.translateContext;return s<=8&&"<!--IE fix-->"===c.slice(-13)&&(c=c.slice(0,-13)),l.$set("translate",void 0),{post:function(o,a,s){function l(){var t;u?(o=p||(p=o.$new()),o.$count=m(o),t=e.getPlural(o.$count,c,u,null,d)):t=e.getString(c,null,d);var s=a.contents();if(0!==s.length){if(t===r(s.html()))return void(h&&n(s)(o));var l=angular.element("<span>"+t+"</span>");n(l.contents())(o);var f=l.contents();i.enter(f,a),i.leave(s)}}var m=t(s.translateN),p=null,h=!0;s.translateN&&o.$watch(s.translateN,l),o.$on("gettextLanguageChanged",l),l(),h=!1}}}}}]),angular.module("gettext").factory("gettextFallbackLanguage",function(){var e={},t=/([^_]+)_[^_]+$/;return function(i){if(e[i])return e[i];var n=t.exec(i);return n?(e[i]=n[1],n[1]):null}}),angular.module("gettext").filter("translate",["gettextCatalog",function(e){function t(t,i){return e.getString(t,null,i)}return t.$stateful=!0,t}]),angular.module("gettext").factory("gettextPlurals",function(){return function(e,t){switch(e){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return t%10!=1||t%100==11?1:0;case"jv":return 0!=t?1:0;case"mk":return 1==t||t%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return t>1?1:0;case"lv":return t%10==1&&t%100!=11?0:0!=t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"mnk":return 0==t?0:1==t?1:2;case"ro":return 1==t?0:0==t||t%100>0&&t%100<20?1:2;case"pl":return 1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1==t?0:t>=2&&t<=4?1:2;case"sl":return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0;case"mt":return 1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"gd":return 1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3;case"cy":return 1==t?0:2==t?1:8!=t&&11!=t?2:3;case"kw":return 1==t?0:2==t?1:3==t?2:3;case"ga":return 1==t?0:2==t?1:t<7?2:t<11?3:4;case"ar":return 0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5;default:return 1!=t?1:0}}}),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[translate]{visibility:hidden !important;}</style>'),!function(e){function t(){return e("body").height()>e(window).height()}var i=function(t,i){this.settings=i,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this["yield"]={every:2,flushed:0},this.border=i.border>=0?i.border:i.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:e('<div class="spinner"><span></span><span></span><span></span></div>'),intervalId:null},this.checkWidthIntervalId=null,this.galleryWidth=t.width(),this.$gallery=t};i.prototype.getSuffix=function(e,t){var i,n;for(i=e>t?e:t,n=0;n<this.suffixRanges.length;n++)if(i<=this.suffixRanges[n])return this.settings.sizeRangeSuffixes[this.suffixRanges[n]];return this.settings.sizeRangeSuffixes[this.suffixRanges[n-1]]},i.prototype.removeSuffix=function(e,t){return e.substring(0,e.length-t.length)},i.prototype.endsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},i.prototype.getUsedSuffix=function(e){for(var t in this.settings.sizeRangeSuffixes)if(this.settings.sizeRangeSuffixes.hasOwnProperty(t)){if(0===this.settings.sizeRangeSuffixes[t].length)continue;if(this.endsWith(e,this.settings.sizeRangeSuffixes[t]))return this.settings.sizeRangeSuffixes[t]}return""},i.prototype.newSrc=function(e,t,i,n){var o;if(this.settings.thumbnailPath)o=this.settings.thumbnailPath(e,t,i,n);else{var a=e.match(this.settings.extension),r=null!==a?a[0]:"";o=e.replace(this.settings.extension,""),o=this.removeSuffix(o,this.getUsedSuffix(o)),o+=this.getSuffix(t,i)+r}return o},i.prototype.showImg=function(e,t){this.settings.cssAnimation?(e.addClass("entry-visible"),t&&t()):(e.stop().fadeTo(this.settings.imagesAnimationDuration,1,t),e.find("> img, > a > img").stop().fadeTo(this.settings.imagesAnimationDuration,1,t))},i.prototype.extractImgSrcFromImage=function(e){var t="undefined"!=typeof e.data("safe-src")?e.data("safe-src"):e.attr("src");return e.data("jg.originalSrc",t),t},i.prototype.imgFromEntry=function(e){var t=e.find("> img");return 0===t.length&&(t=e.find("> a > img")),0===t.length?null:t},i.prototype.captionFromEntry=function(e){var t=e.find("> .caption");return 0===t.length?null:t},i.prototype.displayEntry=function(t,i,n,o,a,r){t.width(o),t.height(r),t.css("top",n),t.css("left",i);var s=this.imgFromEntry(t);if(null!==s){s.css("width",o),s.css("height",a),s.css("margin-left",-o/2),s.css("margin-top",-a/2);var l=s.attr("src"),c=this.newSrc(l,o,a,s[0]);s.one("error",function(){s.attr("src",s.data("jg.originalSrc"))});var u=function(){l!==c&&s.attr("src",c)};"skipped"===t.data("jg.loaded")?this.onImageEvent(l,e.proxy(function(){this.showImg(t,u),t.data("jg.loaded",!0)},this)):this.showImg(t,u)}else this.showImg(t);this.displayEntryCaption(t)},i.prototype.displayEntryCaption=function(t){var i=this.imgFromEntry(t);if(null!==i&&this.settings.captions){var n=this.captionFromEntry(t);if(null===n){var o=i.attr("alt");this.isValidCaption(o)||(o=t.attr("title")),this.isValidCaption(o)&&(n=e('<div class="caption">'+o+"</div>"),t.append(n),t.data("jg.createdCaption",!0))}null!==n&&(this.settings.cssAnimation||n.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers(t))}else this.removeCaptionEventsHandlers(t)},i.prototype.isValidCaption=function(e){return"undefined"!=typeof e&&e.length>0},i.prototype.onEntryMouseEnterForCaption=function(t){var i=this.captionFromEntry(e(t.currentTarget));this.settings.cssAnimation?i.addClass("caption-visible").removeClass("caption-hidden"):i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},i.prototype.onEntryMouseLeaveForCaption=function(t){var i=this.captionFromEntry(e(t.currentTarget));this.settings.cssAnimation?i.removeClass("caption-visible").removeClass("caption-hidden"):i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},i.prototype.addCaptionEventsHandlers=function(t){var i=t.data("jg.captionMouseEvents");"undefined"==typeof i&&(i={mouseenter:e.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:e.proxy(this.onEntryMouseLeaveForCaption,this)},t.on("mouseenter",void 0,void 0,i.mouseenter),t.on("mouseleave",void 0,void 0,i.mouseleave),t.data("jg.captionMouseEvents",i))},i.prototype.removeCaptionEventsHandlers=function(e){var t=e.data("jg.captionMouseEvents");"undefined"!=typeof t&&(e.off("mouseenter",void 0,t.mouseenter),e.off("mouseleave",void 0,t.mouseleave),e.removeData("jg.captionMouseEvents"))},i.prototype.prepareBuildingRow=function(e){var t,i,n,o,a,r=!0,s=0,l=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,c=l/this.buildingRow.aspectRatio,u=this.settings.rowHeight,d=this.buildingRow.width/l>this.settings.justifyThreshold;if(e&&"hide"===this.settings.lastRow&&!d){for(t=0;t<this.buildingRow.entriesBuff.length;t++)i=this.buildingRow.entriesBuff[t],this.settings.cssAnimation?i.removeClass("entry-visible"):(i.stop().fadeTo(0,.1),i.find("> img, > a > img").fadeTo(0,0));return-1}for(e&&!d&&"justify"!==this.settings.lastRow&&"hide"!==this.settings.lastRow&&(r=!1,this.rows>0&&(u=(this.offY-this.border-this.settings.margins*this.rows)/this.rows,r=u*this.buildingRow.aspectRatio/l>this.settings.justifyThreshold)),t=0;t<this.buildingRow.entriesBuff.length;t++)i=this.buildingRow.entriesBuff[t],n=i.data("jg.width")/i.data("jg.height"),r?(o=t===this.buildingRow.entriesBuff.length-1?l:c*n,a=c):(o=u*n,a=u),l-=Math.round(o),i.data("jg.jwidth",Math.round(o)),i.data("jg.jheight",Math.ceil(a)),(0===t||s>a)&&(s=a);return this.buildingRow.height=s,r},i.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},i.prototype.flushRow=function(e){var t,i,n,o=this.settings,a=this.border;if(i=this.prepareBuildingRow(e),e&&"hide"===o.lastRow&&-1===i)return void this.clearBuildingRow();if(this.maxRowHeight&&(this.maxRowHeight.isPercentage&&this.maxRowHeight.value*o.rowHeight<this.buildingRow.height?this.buildingRow.height=this.maxRowHeight.value*o.rowHeight:this.maxRowHeight.value>=o.rowHeight&&this.maxRowHeight.value<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight.value)),"center"===o.lastRow||"right"===o.lastRow){var r=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*o.margins;for(n=0;n<this.buildingRow.entriesBuff.length;n++)t=this.buildingRow.entriesBuff[n],r-=t.data("jg.jwidth");"center"===o.lastRow?a+=r/2:"right"===o.lastRow&&(a+=r)}for(n=0;n<this.buildingRow.entriesBuff.length;n++)t=this.buildingRow.entriesBuff[n],this.displayEntry(t,a,this.offY,t.data("jg.jwidth"),t.data("jg.jheight"),this.buildingRow.height),a+=t.data("jg.jwidth")+o.margins;this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.$gallery.height(this.galleryHeightToSet+this.getSpinnerHeight()),(!e||this.buildingRow.height<=o.rowHeight&&i)&&(this.offY+=this.buildingRow.height+o.margins,this.rows+=1,this.clearBuildingRow(),this.$gallery.trigger("jg.rowflush"))};var n=!1;i.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval(e.proxy(function(){var e=parseFloat(this.$gallery.width());t()===n?Math.abs(e-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=e,this.rewind(),this.startImgAnalyzer(!0)):(n=t(),this.galleryWidth=e)},this),this.settings.refreshTime)},i.prototype.isSpinnerActive=function(){return null!==this.spinner.intervalId},i.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},i.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.$gallery.height(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},i.prototype.startLoadingSpinnerAnimation=function(){var e=this.spinner,t=e.$el.find("span");clearInterval(e.intervalId),this.$gallery.append(e.$el),this.$gallery.height(this.offY+this.buildingRow.height+this.getSpinnerHeight()),e.intervalId=setInterval(function(){e.phase<t.length?t.eq(e.phase).fadeTo(e.timeSlot,1):t.eq(e.phase-t.length).fadeTo(e.timeSlot,0),e.phase=(e.phase+1)%(2*t.length)},e.timeSlot)},i.prototype.rewind=function(){this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},i.prototype.updateEntries=function(t){var i;return t&&null!=this.lastFetchedEntry?i=e(this.lastFetchedEntry).nextAll(this.settings.selector).toArray():(this.entries=[],i=this.$gallery.children(this.settings.selector).toArray()),i.length>0&&(e.isFunction(this.settings.sort)?i=this.sortArray(i):this.settings.randomize&&(i=this.shuffleArray(i)),this.lastFetchedEntry=i[i.length-1],this.settings.filter?i=this.filterArray(i):this.resetFilters(i)),this.entries=this.entries.concat(i),!0},i.prototype.insertToGallery=function(t){var i=this;e.each(t,function(){e(this).appendTo(i.$gallery)})},i.prototype.shuffleArray=function(e){var t,i,n;for(t=e.length-1;t>0;t--)i=Math.floor(Math.random()*(t+1)),n=e[t],e[t]=e[i],e[i]=n;return this.insertToGallery(e),e},i.prototype.sortArray=function(e){return e.sort(this.settings.sort),this.insertToGallery(e),e},i.prototype.resetFilters=function(t){for(var i=0;i<t.length;i++)e(t[i]).removeClass("jg-filtered")},i.prototype.filterArray=function(t){var i=this.settings;if("string"===e.type(i.filter))return t.filter(function(t){var n=e(t);return n.is(i.filter)?(n.removeClass("jg-filtered"),!0):(n.addClass("jg-filtered").removeClass("jg-visible"),!1)});if(e.isFunction(i.filter)){for(var n=t.filter(i.filter),o=0;o<t.length;o++)-1==n.indexOf(t[o])?e(t[o]).addClass("jg-filtered").removeClass("jg-visible"):e(t[o]).removeClass("jg-filtered");return n}},i.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),e.each(this.entries,e.proxy(function(t,i){var n=e(i);n.css("width",""),n.css("height",""),n.css("top",""),n.css("left",""),n.data("jg.loaded",void 0),n.removeClass("jg-entry");var o=this.imgFromEntry(n);o.css("width",""),o.css("height",""),o.css("margin-left",""),o.css("margin-top",""),o.attr("src",o.data("jg.originalSrc")),o.data("jg.originalSrc",void 0),this.removeCaptionEventsHandlers(n);var a=this.captionFromEntry(n);n.data("jg.createdCaption")?(n.data("jg.createdCaption",void 0),null!==a&&a.remove()):null!==a&&a.fadeTo(0,1)},this)),this.$gallery.css("height",""),this.$gallery.removeClass("justified-gallery"),this.$gallery.data("jg.controller",void 0)},i.prototype.analyzeImages=function(t){for(var i=this.lastAnalyzedIndex+1;i<this.entries.length;i++){var n=e(this.entries[i]);if(n.data("jg.loaded")===!0||"skipped"===n.data("jg.loaded")){var o=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,a=n.data("jg.width")/n.data("jg.height");if(o/(this.buildingRow.aspectRatio+a)<this.settings.rowHeight&&(this.flushRow(!1),++this["yield"].flushed>=this["yield"].every))return void this.startImgAnalyzer(t);this.buildingRow.entriesBuff.push(n),this.buildingRow.aspectRatio+=a,this.buildingRow.width+=a*this.settings.rowHeight,this.lastAnalyzedIndex=i}else if("error"!==n.data("jg.loaded"))return}this.buildingRow.entriesBuff.length>0&&this.flushRow(!0),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.$gallery.trigger(t?"jg.resize":"jg.complete"),this.$gallery.height(this.galleryHeightToSet)},i.prototype.stopImgAnalyzerStarter=function(){this["yield"].flushed=0,null!==this.imgAnalyzerTimeout&&clearTimeout(this.imgAnalyzerTimeout)},i.prototype.startImgAnalyzer=function(e){var t=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout(function(){t.analyzeImages(e)},.001)},i.prototype.onImageEvent=function(t,i,n){if(i||n){var o=new Image,a=e(o);i&&a.one("load",function(){a.off("load error"),i(o)}),n&&a.one("error",function(){a.off("load error"),n(o)}),o.src=t}},i.prototype.init=function(){var t=!1,i=!1,n=this;e.each(this.entries,function(o,a){var r=e(a),s=n.imgFromEntry(r);if(r.addClass("jg-entry"),r.data("jg.loaded")!==!0&&"skipped"!==r.data("jg.loaded"))if(null!==n.settings.rel&&r.attr("rel",n.settings.rel),null!==n.settings.target&&r.attr("target",n.settings.target),null!==s){var l=n.extractImgSrcFromImage(s);if(s.attr("src",l),n.settings.waitThumbnailsLoad===!1){var c=parseFloat(s.attr("width")),u=parseFloat(s.attr("height"));if(!isNaN(c)&&!isNaN(u))return r.data("jg.width",c),r.data("jg.height",u),r.data("jg.loaded","skipped"),i=!0,n.startImgAnalyzer(!1),!0}r.data("jg.loaded",!1),t=!0,n.isSpinnerActive()||n.startLoadingSpinnerAnimation(),n.onImageEvent(l,function(e){r.data("jg.width",e.width),r.data("jg.height",e.height),r.data("jg.loaded",!0),n.startImgAnalyzer(!1)},function(){r.data("jg.loaded","error"),n.startImgAnalyzer(!1)})}else r.data("jg.loaded",!0),r.data("jg.width",r.width()|parseFloat(r.css("width"))|1),r.data("jg.height",r.height()|parseFloat(r.css("height"))|1)}),t||i||this.startImgAnalyzer(!1),this.checkWidth()},i.prototype.checkOrConvertNumber=function(t,i){if("string"===e.type(t[i])&&(t[i]=parseFloat(t[i])),"number"!==e.type(t[i]))throw i+" must be a number";if(isNaN(t[i]))throw"invalid number for "+i},i.prototype.checkSizeRangesSuffixes=function(){if("object"!==e.type(this.settings.sizeRangeSuffixes))throw"sizeRangeSuffixes must be defined and must be an object";var t=[];for(var i in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(i)&&t.push(i);for(var n={0:""},o=0;o<t.length;o++)if("string"===e.type(t[o]))try{var a=parseInt(t[o].replace(/^[a-z]+/,""),10);n[a]=this.settings.sizeRangeSuffixes[t[o]]}catch(r){throw"sizeRangeSuffixes keys must contains correct numbers ("+r+")"}else n[t[o]]=this.settings.sizeRangeSuffixes[t[o]];this.settings.sizeRangeSuffixes=n},i.prototype.retrieveMaxRowHeight=function(){var t={};if("string"===e.type(this.settings.maxRowHeight))this.settings.maxRowHeight.match(/^[0-9]+%$/)?(t.value=parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100,t.isPercentage=!1):(t.value=parseFloat(this.settings.maxRowHeight),t.isPercentage=!0);else{if("number"!==e.type(this.settings.maxRowHeight)){if(this.settings.maxRowHeight===!1||null===this.settings.maxRowHeight||"undefined"==typeof this.settings.maxRowHeight)return null;throw"maxRowHeight must be a number or a percentage"}t.value=this.settings.maxRowHeight,t.isPercentage=!1}if(isNaN(t.value))throw"invalid number for maxRowHeight";return t.isPercentage&&t.value<100&&(t.value=100),t},i.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,"rowHeight"),this.checkOrConvertNumber(this.settings,"margins"),this.checkOrConvertNumber(this.settings,"border");var t=["justify","nojustify","left","center","right","hide"];if(-1===t.indexOf(this.settings.lastRow))throw"lastRow must be one of: "+t.join(", ");if(this.checkOrConvertNumber(this.settings,"justifyThreshold"),this.settings.justifyThreshold<0||this.settings.justifyThreshold>1)throw"justifyThreshold must be in the interval [0,1]";if("boolean"!==e.type(this.settings.cssAnimation))throw"cssAnimation must be a boolean";if("boolean"!==e.type(this.settings.captions))throw"captions must be a boolean";if(this.checkOrConvertNumber(this.settings.captionSettings,"animationDuration"),this.checkOrConvertNumber(this.settings.captionSettings,"visibleOpacity"),this.settings.captionSettings.visibleOpacity<0||this.settings.captionSettings.visibleOpacity>1)throw"captionSettings.visibleOpacity must be in the interval [0, 1]";if(this.checkOrConvertNumber(this.settings.captionSettings,"nonVisibleOpacity"),this.settings.captionSettings.nonVisibleOpacity<0||this.settings.captionSettings.nonVisibleOpacity>1)throw"captionSettings.nonVisibleOpacity must be in the interval [0, 1]";if(this.checkOrConvertNumber(this.settings,"imagesAnimationDuration"),this.checkOrConvertNumber(this.settings,"refreshTime"),this.checkOrConvertNumber(this.settings,"refreshSensitivity"),"boolean"!==e.type(this.settings.randomize))throw"randomize must be a boolean";if("string"!==e.type(this.settings.selector))throw"selector must be a string";if(this.settings.sort!==!1&&!e.isFunction(this.settings.sort))throw"sort must be false or a comparison function";if(this.settings.filter!==!1&&!e.isFunction(this.settings.filter)&&"string"!==e.type(this.settings.filter))throw"filter must be false, a string or a filter function"},i.prototype.retrieveSuffixRanges=function(){var e=[];for(var t in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(t)&&e.push(parseInt(t,10));return e.sort(function(e,t){return e>t?1:t>e?-1:0}),e},i.prototype.updateSettings=function(t){this.settings=e.extend({},this.settings,t),this.checkSettings(),this.border=this.settings.border>=0?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},e.fn.justifiedGallery=function(t){return this.each(function(n,o){var a=e(o);a.addClass("justified-gallery");var r=a.data("jg.controller");if("undefined"==typeof r){if("undefined"!=typeof t&&null!==t&&"object"!==e.type(t)){if("destroy"===t)return;throw"The argument must be an object"}r=new i(a,e.extend({},e.fn.justifiedGallery.defaults,t)),a.data("jg.controller",r)}else if("norewind"===t);else{if("destroy"===t)return void r.destroy();r.updateSettings(t),r.rewind()}r.updateEntries("norewind"===t)&&r.init()})},e.fn.justifiedGallery.defaults={sizeRangeSuffixes:{},thumbnailPath:void 0,rowHeight:120,maxRowHeight:!1,margins:1,border:-1,lastRow:"nojustify",justifyThreshold:.9,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!0,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\.[^.\\\/]+$/,refreshTime:200,refreshSensitivity:0,randomize:!1,sort:!1,filter:!1,selector:"a, div:not(.spinner)"}}(jQuery),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e=function(e,t,i,n){var o={features:null,bind:function(e,t,i,n){var o=(n?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],i,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var i=document.createElement(t||"div");return e&&(i.className=e),i},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,i){o.bind(e,t,i,!0)},removeClass:function(e,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){o.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var i=e.firstChild;i;){if(o.hasClass(i,t))return i;i=i.nextSibling}},arraySearch:function(e,t,i){for(var n=e.length;n--;)if(e[n][i]===t)return n;return-1},extend:function(e,t,i){for(var n in t)if(t.hasOwnProperty(n)){if(i&&e.hasOwnProperty(n))continue;e[n]=t[n]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(o.features)return o.features;var e=o.createEl(),t=e.style,i="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var a=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10),r>=1&&8>r&&(n.isOldIOSPhone=!0))}var s=a.match(/Android\s([0-9\.]*)/),l=s?s[1]:0;l=parseFloat(l),l>=1&&(4.4>l&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(a)}for(var c,u,d=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],p=0;4>p;p++){i=m[p];for(var h=0;3>h;h++)c=d[h],u=i+(i?c.charAt(0).toUpperCase()+c.slice(1):c),!n[c]&&u in t&&(n[c]=u);i&&!n.raf&&(i=i.toLowerCase(),n.raf=window[i+"RequestAnimationFrame"],n.raf&&(n.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}if(!n.raf){var f=0;n.raf=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-f)),n=window.setTimeout(function(){e(t+i)},i);return f=t+i,n},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=n,n}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(e,t,i,n){t=t.split(" ");for(var o,a=(n?"detach":"attach")+"Event",r=function(){i.handleEvent.call(i)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=r;e[a]("on"+o,i["oldIE"+o])}else e[a]("on"+o,i)});var a=this,r=25,s=3,l={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(l,n);var c,u,d,m,p,h,f,g,v,w,y,b,x,_,S,C,k,I,T,E,A,R,D,O,M,F,P,L,N,z,j,Z,U,H,B,$,K,W,G,Y,V,q,X,J,Q,ee,te,ie,ne,oe,ae,re,se,le,ce,ue,de=function(){return{x:0,y:0}},me=de(),pe=de(),he=de(),fe={},ge=0,ve={},we=de(),ye=0,be=!0,xe=[],_e={},Se=!1,Ce=function(e,t){o.extend(a,t.publicMethods),xe.push(e)},ke=function(e){var t=Qt();return e>t-1?e-t:0>e?t+e:e},Ie={},Te=function(e,t){return Ie[e]||(Ie[e]=[]),Ie[e].push(t)},Ee=function(e){var t=Ie[e];if(t){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(a,i)}},Ae=function(){return(new Date).getTime()},Re=function(e){le=e,a.bg.style.opacity=e*l.bgOpacity},De=function(e,t,i,n,o){(!Se||o&&o!==a.currItem)&&(n/=o?o.fitRatio:a.currItem.fitRatio),e[R]=b+t+"px, "+i+"px"+x+" scale("+n+")"},Oe=function(e){ne&&(e&&(w>a.currItem.fitRatio?Se||(di(a.currItem,!1,!0),Se=!0):Se&&(di(a.currItem),Se=!1)),De(ne,he.x,he.y,w))},Me=function(e){e.container&&De(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Fe=function(e,t){t[R]=b+e+"px, 0px"+x},Pe=function(e,t){if(!l.loop&&t){var i=m+(we.x*ge-e)/we.x,n=Math.round(e-wt.x);(0>i&&n>0||i>=Qt()-1&&0>n)&&(e=wt.x+n*l.mainScrollEndFriction)}wt.x=e,Fe(e,p)},Le=function(e,t){var i=yt[e]-ve[e];return pe[e]+me[e]+i-i*(t/y)},Ne=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},ze=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},je=null,Ze=function(){je&&(o.unbind(document,"mousemove",Ze),o.addClass(e,"pswp--has_mouse"),l.mouseUsed=!0,Ee("mouseUsed")),je=setTimeout(function(){je=null},100)},Ue=function(){o.bind(document,"keydown",a),j.transform&&o.bind(a.scrollWrap,"click",a),l.mouseUsed||o.bind(document,"mousemove",Ze),o.bind(window,"resize scroll",a),Ee("bindEvents")},He=function(){o.unbind(window,"resize",a),o.unbind(window,"scroll",v.scroll),o.unbind(document,"keydown",a),o.unbind(document,"mousemove",Ze),j.transform&&o.unbind(a.scrollWrap,"click",a),W&&o.unbind(window,f,a),Ee("unbindEvents")},Be=function(e,t){var i=si(a.currItem,fe,e);return t&&(ie=i),i},$e=function(e){return e||(e=a.currItem),e.initialZoomLevel},Ke=function(e){return e||(e=a.currItem),e.w>0?l.maxSpreadZoom:1},We=function(e,t,i,n){return n===a.currItem.initialZoomLevel?(i[e]=a.currItem.initialPosition[e],!0):(i[e]=Le(e,n),i[e]>t.min[e]?(i[e]=t.min[e],!0):i[e]<t.max[e]&&(i[e]=t.max[e],!0))},Ge=function(){if(R){var t=j.perspective&&!O;return b="translate"+(t?"3d(":"("),void(x=j.perspective?", 0px)":")")}R="left",o.addClass(e,"pswp--ie"),Fe=function(e,t){t.left=e+"px"},Me=function(e){var t=e.fitRatio>1?1:e.fitRatio,i=e.container.style,n=t*e.w,o=t*e.h;i.width=n+"px",i.height=o+"px",i.left=e.initialPosition.x+"px",i.top=e.initialPosition.y+"px"},Oe=function(){if(ne){var e=ne,t=a.currItem,i=t.fitRatio>1?1:t.fitRatio,n=i*t.w,o=i*t.h;e.width=n+"px",e.height=o+"px",e.left=he.x+"px",e.top=he.y+"px"}}},Ye=function(e){var t="";l.escKey&&27===e.keyCode?t="close":l.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,a[t]()))},Ve=function(e){e&&(V||Y||oe||$)&&(e.preventDefault(),e.stopPropagation())},qe=function(){a.setScrollOffset(0,o.getScrollY())},Xe={},Je=0,Qe=function(e){Xe[e]&&(Xe[e].raf&&F(Xe[e].raf),Je--,delete Xe[e])},et=function(e){Xe[e]&&Qe(e),Xe[e]||(Je++,Xe[e]={})},tt=function(){for(var e in Xe)Xe.hasOwnProperty(e)&&Qe(e)},it=function(e,t,i,n,o,a,r){var s,l=Ae();et(e);var c=function(){if(Xe[e]){if(s=Ae()-l,s>=n)return Qe(e),a(i),void(r&&r());a((i-t)*o(s/n)+t),Xe[e].raf=M(c)}};c()},nt={shout:Ee,listen:Te,viewportSize:fe,options:l,isMainScrollAnimating:function(){return oe},getZoomLevel:function(){return w},getCurrentIndex:function(){return m},isDragging:function(){return W},isZooming:function(){return Q},setScrollOffset:function(e,t){ve.x=e,z=ve.y=t,Ee("updateScrollOffset",ve)},applyZoomPan:function(e,t,i,n){he.x=t,he.y=i,w=e,Oe(n)},init:function(){if(!c&&!u){var i;a.framework=o,a.template=e,a.bg=o.getChildByClass(e,"pswp__bg"),P=e.className,c=!0,j=o.detectFeatures(),M=j.raf,F=j.caf,R=j.transform,N=j.oldIE,a.scrollWrap=o.getChildByClass(e,"pswp__scroll-wrap"),a.container=o.getChildByClass(a.scrollWrap,"pswp__container"),p=a.container.style,a.itemHolders=C=[{el:a.container.children[0],wrap:0,index:-1},{el:a.container.children[1],wrap:0,index:-1},{el:a.container.children[2],wrap:0,index:-1}],C[0].el.style.display=C[2].el.style.display="none",Ge(),v={resize:a.updateSize,scroll:qe,keydown:Ye,click:Ve};var n=j.isOldIOSPhone||j.isOldAndroid||j.isMobileOpera;for(j.animationName&&j.transform&&!n||(l.showAnimationDuration=l.hideAnimationDuration=0),i=0;i<xe.length;i++)a["init"+xe[i]]();if(t){var r=a.ui=new t(a,o);r.init()}Ee("firstUpdate"),m=m||l.index||0,(isNaN(m)||0>m||m>=Qt())&&(m=0),a.currItem=Jt(m),(j.isOldIOSPhone||j.isOldAndroid)&&(be=!1),e.setAttribute("aria-hidden","false"),l.modal&&(be?e.style.position="fixed":(e.style.position="absolute",e.style.top=o.getScrollY()+"px")),void 0===z&&(Ee("initialLayout"),z=L=o.getScrollY());var d="pswp--open ";for(l.mainClass&&(d+=l.mainClass+" "),l.showHideOpacity&&(d+="pswp--animate_opacity "),d+=O?"pswp--touch":"pswp--notouch",d+=j.animationName?" pswp--css_animation":"",
d+=j.svg?" pswp--svg":"",o.addClass(e,d),a.updateSize(),h=-1,ye=null,i=0;s>i;i++)Fe((i+h)*we.x,C[i].el.style);N||o.bind(a.scrollWrap,g,a),Te("initialZoomInEnd",function(){a.setContent(C[0],m-1),a.setContent(C[2],m+1),C[0].el.style.display=C[2].el.style.display="block",l.focus&&e.focus(),Ue()}),a.setContent(C[1],m),a.updateCurrItem(),Ee("afterInit"),be||(_=setInterval(function(){Je||W||Q||w!==a.currItem.initialZoomLevel||a.updateSize()},1e3)),o.addClass(e,"pswp--visible")}},close:function(){c&&(c=!1,u=!0,Ee("close"),He(),ti(a.currItem,null,!0,a.destroy))},destroy:function(){Ee("destroy"),Yt&&clearTimeout(Yt),e.setAttribute("aria-hidden","true"),e.className=P,_&&clearInterval(_),o.unbind(a.scrollWrap,g,a),o.unbind(window,"scroll",a),Ct(),tt(),Ie=null},panTo:function(e,t,i){i||(e>ie.min.x?e=ie.min.x:e<ie.max.x&&(e=ie.max.x),t>ie.min.y?t=ie.min.y:t<ie.max.y&&(t=ie.max.y)),he.x=e,he.y=t,Oe()},handleEvent:function(e){e=e||window.event,v[e.type]&&v[e.type](e)},goTo:function(e){e=ke(e);var t=e-m;ye=t,m=e,a.currItem=Jt(m),ge-=t,Pe(we.x*ge),tt(),oe=!1,a.updateCurrItem()},next:function(){a.goTo(m+1)},prev:function(){a.goTo(m-1)},updateCurrZoomItem:function(e){if(e&&Ee("beforeChange",0),C[1].el.children.length){var t=C[1].el.children[0];ne=o.hasClass(t,"pswp__zoom-wrap")?t.style:null}else ne=null;ie=a.currItem.bounds,y=w=a.currItem.initialZoomLevel,he.x=ie.center.x,he.y=ie.center.y,e&&Ee("afterChange")},invalidateCurrItems:function(){S=!0;for(var e=0;s>e;e++)C[e].item&&(C[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ye){var t,i=Math.abs(ye);if(!(e&&2>i)){a.currItem=Jt(m),Se=!1,Ee("beforeChange",ye),i>=s&&(h+=ye+(ye>0?-s:s),i=s);for(var n=0;i>n;n++)ye>0?(t=C.shift(),C[s-1]=t,h++,Fe((h+2)*we.x,t.el.style),a.setContent(t,m-i+n+1+1)):(t=C.pop(),C.unshift(t),h--,Fe(h*we.x,t.el.style),a.setContent(t,m+i-n-1-1));if(ne&&1===Math.abs(ye)){var o=Jt(k);o.initialZoomLevel!==w&&(si(o,fe),di(o),Me(o))}ye=0,a.updateCurrZoomItem(),k=m,Ee("afterChange")}}},updateSize:function(t){if(!be&&l.modal){var i=o.getScrollY();if(z!==i&&(e.style.top=i+"px",z=i),!t&&_e.x===window.innerWidth&&_e.y===window.innerHeight)return;_e.x=window.innerWidth,_e.y=window.innerHeight,e.style.height=_e.y+"px"}if(fe.x=a.scrollWrap.clientWidth,fe.y=a.scrollWrap.clientHeight,qe(),we.x=fe.x+Math.round(fe.x*l.spacing),we.y=fe.y,Pe(we.x*ge),Ee("beforeResize"),void 0!==h){for(var n,r,c,u=0;s>u;u++)n=C[u],Fe((u+h)*we.x,n.el.style),c=m+u-1,l.loop&&Qt()>2&&(c=ke(c)),r=Jt(c),r&&(S||r.needsUpdate||!r.bounds)?(a.cleanSlide(r),a.setContent(n,c),1===u&&(a.currItem=r,a.updateCurrZoomItem(!0)),r.needsUpdate=!1):-1===n.index&&c>=0&&a.setContent(n,c),r&&r.container&&(si(r,fe),di(r),Me(r));S=!1}y=w=a.currItem.initialZoomLevel,ie=a.currItem.bounds,ie&&(he.x=ie.center.x,he.y=ie.center.y,Oe(!0)),Ee("resize")},zoomTo:function(e,t,i,n,a){t&&(y=w,yt.x=Math.abs(t.x)-he.x,yt.y=Math.abs(t.y)-he.y,Ne(pe,he));var r=Be(e,!1),s={};We("x",r,s,e),We("y",r,s,e);var l=w,c={x:he.x,y:he.y};ze(s);var u=function(t){1===t?(w=e,he.x=s.x,he.y=s.y):(w=(e-l)*t+l,he.x=(s.x-c.x)*t+c.x,he.y=(s.y-c.y)*t+c.y),a&&a(t),Oe(1===t)};i?it("customZoomTo",0,1,i,n||o.easing.sine.inOut,u):u(1)}},ot=30,at=10,rt={},st={},lt={},ct={},ut={},dt=[],mt={},pt=[],ht={},ft=0,gt=de(),vt=0,wt=de(),yt=de(),bt=de(),xt=function(e,t){return e.x===t.x&&e.y===t.y},_t=function(e,t){return Math.abs(e.x-t.x)<r&&Math.abs(e.y-t.y)<r},St=function(e,t){return ht.x=Math.abs(e.x-t.x),ht.y=Math.abs(e.y-t.y),Math.sqrt(ht.x*ht.x+ht.y*ht.y)},Ct=function(){q&&(F(q),q=null)},kt=function(){W&&(q=M(kt),Ut())},It=function(){return!("fit"===l.scaleMode&&w===a.currItem.initialZoomLevel)},Tt=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:Tt(e.parentNode,t)))},Et={},At=function(e,t){return Et.prevent=!Tt(e.target,l.isClickableElement),Ee("preventDragEvent",e,t,Et),Et.prevent},Rt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Dt=function(e,t,i){i.x=.5*(e.x+t.x),i.y=.5*(e.y+t.y)},Ot=function(e,t,i){if(e-U>50){var n=pt.length>2?pt.shift():{};n.x=t,n.y=i,pt.push(n),U=e}},Mt=function(){var e=he.y-a.currItem.initialPosition.y;return 1-Math.abs(e/(fe.y/2))},Ft={},Pt={},Lt=[],Nt=function(e){for(;Lt.length>0;)Lt.pop();return D?(ue=0,dt.forEach(function(e){0===ue?Lt[0]=e:1===ue&&(Lt[1]=e),ue++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Lt[0]=Rt(e.touches[0],Ft),e.touches.length>1&&(Lt[1]=Rt(e.touches[1],Pt))):(Ft.x=e.pageX,Ft.y=e.pageY,Ft.id="",Lt[0]=Ft),Lt},zt=function(e,t){var i,n,o,r,s=0,c=he[e]+t[e],u=t[e]>0,d=wt.x+t.x,m=wt.x-mt.x;return i=c>ie.min[e]||c<ie.max[e]?l.panEndFriction:1,c=he[e]+t[e]*i,!l.allowPanToNext&&w!==a.currItem.initialZoomLevel||(ne?"h"!==ae||"x"!==e||Y||(u?(c>ie.min[e]&&(i=l.panEndFriction,s=ie.min[e]-c,n=ie.min[e]-pe[e]),(0>=n||0>m)&&Qt()>1?(r=d,0>m&&d>mt.x&&(r=mt.x)):ie.min.x!==ie.max.x&&(o=c)):(c<ie.max[e]&&(i=l.panEndFriction,s=c-ie.max[e],n=pe[e]-ie.max[e]),(0>=n||m>0)&&Qt()>1?(r=d,m>0&&d<mt.x&&(r=mt.x)):ie.min.x!==ie.max.x&&(o=c))):r=d,"x"!==e)?void(oe||X||w>a.currItem.fitRatio&&(he[e]+=t[e]*i)):(void 0!==r&&(Pe(r,!0),X=r!==mt.x),ie.min.x!==ie.max.x&&(void 0!==o?he.x=o:X||(he.x+=t.x*i)),void 0!==r)},jt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Xt)return void e.preventDefault();if(!K||"mousedown"!==e.type){if(At(e,!0)&&e.preventDefault(),Ee("pointerDown"),D){var t=o.arraySearch(dt,e.pointerId,"id");0>t&&(t=dt.length),dt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var i=Nt(e),n=i.length;J=null,tt(),W&&1!==n||(W=re=!0,o.bind(window,f,a),B=ce=se=$=X=V=G=Y=!1,ae=null,Ee("firstTouchStart",i),Ne(pe,he),me.x=me.y=0,Ne(ct,i[0]),Ne(ut,ct),mt.x=we.x*ge,pt=[{x:ct.x,y:ct.y}],U=Z=Ae(),Be(w,!0),Ct(),kt()),!Q&&n>1&&!oe&&!X&&(y=w,Y=!1,Q=G=!0,me.y=me.x=0,Ne(pe,he),Ne(rt,i[0]),Ne(st,i[1]),Dt(rt,st,bt),yt.x=Math.abs(bt.x)-he.x,yt.y=Math.abs(bt.y)-he.y,ee=te=St(rt,st))}}},Zt=function(e){if(e.preventDefault(),D){var t=o.arraySearch(dt,e.pointerId,"id");if(t>-1){var i=dt[t];i.x=e.pageX,i.y=e.pageY}}if(W){var n=Nt(e);if(ae||V||Q)J=n;else if(wt.x!==we.x*ge)ae="h";else{var a=Math.abs(n[0].x-ct.x)-Math.abs(n[0].y-ct.y);Math.abs(a)>=at&&(ae=a>0?"h":"v",J=n)}}},Ut=function(){if(J){var e=J.length;if(0!==e)if(Ne(rt,J[0]),lt.x=rt.x-ct.x,lt.y=rt.y-ct.y,Q&&e>1){if(ct.x=rt.x,ct.y=rt.y,!lt.x&&!lt.y&&xt(J[1],st))return;Ne(st,J[1]),Y||(Y=!0,Ee("zoomGestureStarted"));var t=St(rt,st),i=Wt(t);i>a.currItem.initialZoomLevel+a.currItem.initialZoomLevel/15&&(ce=!0);var n=1,o=$e(),r=Ke();if(o>i)if(l.pinchToClose&&!ce&&y<=a.currItem.initialZoomLevel){var s=o-i,c=1-s/(o/1.2);Re(c),Ee("onPinchClose",c),se=!0}else n=(o-i)/o,n>1&&(n=1),i=o-n*(o/3);else i>r&&(n=(i-r)/(6*o),n>1&&(n=1),i=r+n*o);0>n&&(n=0),ee=t,Dt(rt,st,gt),me.x+=gt.x-bt.x,me.y+=gt.y-bt.y,Ne(bt,gt),he.x=Le("x",i),he.y=Le("y",i),B=i>w,w=i,Oe()}else{if(!ae)return;if(re&&(re=!1,Math.abs(lt.x)>=at&&(lt.x-=J[0].x-ut.x),Math.abs(lt.y)>=at&&(lt.y-=J[0].y-ut.y)),ct.x=rt.x,ct.y=rt.y,0===lt.x&&0===lt.y)return;if("v"===ae&&l.closeOnVerticalDrag&&!It()){me.y+=lt.y,he.y+=lt.y;var u=Mt();return $=!0,Ee("onVerticalDrag",u),Re(u),void Oe()}Ot(Ae(),rt.x,rt.y),V=!0,ie=a.currItem.bounds;var d=zt("x",lt);d||(zt("y",lt),ze(he),Oe())}}},Ht=function(e){if(j.isOldAndroid){if(K&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(K),K=setTimeout(function(){K=0},600))}Ee("pointerUp"),At(e,!1)&&e.preventDefault();var t;if(D){var i=o.arraySearch(dt,e.pointerId,"id");if(i>-1)if(t=dt.splice(i,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var n={4:"mouse",2:"touch",3:"pen"};t.type=n[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var r,s=Nt(e),c=s.length;if("mouseup"===e.type&&(c=0),2===c)return J=null,!0;1===c&&Ne(ut,s[0]),0!==c||ae||oe||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ee("touchRelease",e,t));var u=-1;if(0===c&&(W=!1,o.unbind(window,f,a),Ct(),Q?u=0:-1!==vt&&(u=Ae()-vt)),vt=1===c?Ae():-1,r=-1!==u&&150>u?"zoom":"swipe",Q&&2>c&&(Q=!1,1===c&&(r="zoomPointerUp"),Ee("zoomGestureEnded")),J=null,V||Y||oe||$)if(tt(),H||(H=Bt()),H.calculateSwipeSpeed("x"),$){var d=Mt();if(d<l.verticalDragRange)a.close();else{var m=he.y,p=le;it("verticalDrag",0,1,300,o.easing.cubic.out,function(e){he.y=(a.currItem.initialPosition.y-m)*e+m,Re((1-p)*e+p),Oe()}),Ee("onVerticalDrag",1)}}else{if((X||oe)&&0===c){var h=Kt(r,H);if(h)return;r="zoomPointerUp"}if(!oe)return"swipe"!==r?void Gt():void(!X&&w>a.currItem.fitRatio&&$t(H))}},Bt=function(){var e,t,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){pt.length>1?(e=Ae()-U+50,t=pt[pt.length-2][n]):(e=Ae()-Z,t=ut[n]),i.lastFlickOffset[n]=ct[n]-t,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/e:i.lastFlickSpeed[n]=0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(e,t){i.backAnimStarted[e]||(he[e]>ie.min[e]?i.backAnimDestination[e]=ie.min[e]:he[e]<ie.max[e]&&(i.backAnimDestination[e]=ie.max[e]),void 0!==i.backAnimDestination[e]&&(i.slowDownRatio[e]=.7,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatioAbs[e]<.05&&(i.lastFlickSpeed[e]=0,i.backAnimStarted[e]=!0,it("bounceZoomPan"+e,he[e],i.backAnimDestination[e],t||300,o.easing.sine.out,function(t){he[e]=t,Oe()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,he[e]+=i.distanceOffset[e])},panAnimLoop:function(){return Xe.zoomPan&&(Xe.zoomPan.raf=M(i.panAnimLoop),i.now=Ae(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),Oe(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05)?(he.x=Math.round(he.x),he.y=Math.round(he.y),Oe(),void Qe("zoomPan")):void 0}};return i},$t=function(e){return e.calculateSwipeSpeed("y"),ie=a.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(et("zoomPan"),e.lastNow=Ae(),void e.panAnimLoop())},Kt=function(e,t){var i;oe||(ft=m);var n;if("swipe"===e){var r=ct.x-ut.x,s=t.lastFlickDist.x<10;r>ot&&(s||t.lastFlickOffset.x>20)?n=-1:-ot>r&&(s||t.lastFlickOffset.x<-20)&&(n=1)}var c;n&&(m+=n,0>m?(m=l.loop?Qt()-1:0,c=!0):m>=Qt()&&(m=l.loop?0:Qt()-1,c=!0),(!c||l.loop)&&(ye+=n,ge-=n,i=!0));var u,d=we.x*ge,p=Math.abs(d-wt.x);return i||d>wt.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?p/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,ft===m&&(i=!1),oe=!0,Ee("mainScrollAnimStart"),it("mainScroll",wt.x,d,u,o.easing.cubic.out,Pe,function(){tt(),oe=!1,ft=-1,(i||ft!==m)&&a.updateCurrItem(),Ee("mainScrollAnimComplete")}),i&&a.updateCurrItem(!0),i},Wt=function(e){return 1/te*e*y},Gt=function(){var e=w,t=$e(),i=Ke();t>w?e=t:w>i&&(e=i);var n,r=1,s=le;return se&&!B&&!ce&&t>w?(a.close(),!0):(se&&(n=function(e){Re((r-s)*e+s)}),a.zoomTo(e,0,200,o.easing.cubic.out,n),!0)};Ce("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,i,n,o){I=e+t,T=e+i,E=e+n,A=o?e+o:""};D=j.pointerEvent,D&&j.touch&&(j.touch=!1),D?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):j.touch?(e("touch","start","move","end","cancel"),O=!0):e("mouse","down","move","up"),f=T+" "+E+" "+A,g=I,D&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),a.likelyTouchDevice=O,v[I]=jt,v[T]=Zt,v[E]=Ht,A&&(v[A]=v[E]),j.touch&&(g+=" mousedown",f+=" mousemove mouseup",v.mousedown=v[I],v.mousemove=v[T],v.mouseup=v[E]),O||(l.allowPanToNext=!1)}}});var Yt,Vt,qt,Xt,Jt,Qt,ei,ti=function(t,i,n,r){Yt&&clearTimeout(Yt),Xt=!0,qt=!0;var s;t.initialLayout?(s=t.initialLayout,t.initialLayout=null):s=l.getThumbBoundsFn&&l.getThumbBoundsFn(m);var c=n?l.hideAnimationDuration:l.showAnimationDuration,u=function(){Qe("initialZoom"),n?(a.template.removeAttribute("style"),a.bg.removeAttribute("style")):(Re(1),i&&(i.style.display="block"),o.addClass(e,"pswp--animated-in"),Ee("initialZoom"+(n?"OutEnd":"InEnd"))),r&&r(),Xt=!1};if(!c||!s||void 0===s.x)return Ee("initialZoom"+(n?"Out":"In")),w=t.initialZoomLevel,Ne(he,t.initialPosition),Oe(),e.style.opacity=n?0:1,Re(1),void(c?setTimeout(function(){u()},c):u());var p=function(){var i=d,r=!a.currItem.src||a.currItem.loadError||l.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),n||(w=s.w/t.w,he.x=s.x,he.y=s.y-L,a[r?"template":"bg"].style.opacity=.001,Oe()),et("initialZoom"),n&&!i&&o.removeClass(e,"pswp--animated-in"),r&&(n?o[(i?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){o.addClass(e,"pswp--animate_opacity")},30)),Yt=setTimeout(function(){if(Ee("initialZoom"+(n?"Out":"In")),n){var a=s.w/t.w,l={x:he.x,y:he.y},d=w,m=le,p=function(t){1===t?(w=a,he.x=s.x,he.y=s.y-z):(w=(a-d)*t+d,he.x=(s.x-l.x)*t+l.x,he.y=(s.y-z-l.y)*t+l.y),Oe(),r?e.style.opacity=1-t:Re(m-t*m)};i?it("initialZoom",0,1,c,o.easing.cubic.out,p,u):(p(1),Yt=setTimeout(u,c+20))}else w=t.initialZoomLevel,Ne(he,t.initialPosition),Oe(),Re(1),r?e.style.opacity=1:Re(1),Yt=setTimeout(u,c+20)},n?25:90)};p()},ii={},ni=[],oi={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Vt.length}},ai=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},ri=function(e,t,i){var n=e.bounds;n.center.x=Math.round((ii.x-t)/2),n.center.y=Math.round((ii.y-i)/2)+e.vGap.top,n.max.x=t>ii.x?Math.round(ii.x-t):n.center.x,n.max.y=i>ii.y?Math.round(ii.y-i)+e.vGap.top:n.center.y,n.min.x=t>ii.x?0:n.center.x,n.min.y=i>ii.y?e.vGap.top:n.center.y},si=function(e,t,i){if(e.src&&!e.loadError){var n=!i;if(n&&(e.vGap||(e.vGap={top:0,bottom:0}),Ee("parseVerticalMargin",e)),ii.x=t.x,ii.y=t.y-e.vGap.top-e.vGap.bottom,n){var o=ii.x/e.w,a=ii.y/e.h;e.fitRatio=a>o?o:a;var r=l.scaleMode;"orig"===r?i=1:"fit"===r&&(i=e.fitRatio),i>1&&(i=1),e.initialZoomLevel=i,e.bounds||(e.bounds=ai())}if(!i)return;return ri(e,e.w*i,e.h*i),n&&i===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=ai(),e.initialPosition=e.bounds.center,e.bounds},li=function(e,t,i,n,o,r){t.loadError||n&&(t.imageAppended=!0,di(t,n,t===a.currItem&&Se),i.appendChild(n),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},ci=function(e){e.loading=!0,e.loaded=!1;var t=e.img=o.createEl("pswp__img","img"),i=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=i,t.onerror=function(){e.loadError=!0,i()},t.src=e.src,t},ui=function(e,t){return e.src&&e.loadError&&e.container?(t&&(e.container.innerHTML=""),e.container.innerHTML=l.errorMsg.replace("%url%",e.src),!0):void 0},di=function(e,t,i){if(e.src){t||(t=e.container.lastChild);var n=i?e.w:Math.round(e.w*e.fitRatio),o=i?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=n+"px",e.placeholder.style.height=o+"px"),t.style.width=n+"px",t.style.height=o+"px"}},mi=function(){if(ni.length){for(var e,t=0;t<ni.length;t++)e=ni[t],e.holder.index===e.index&&li(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);ni=[]}};Ce("Controller",{publicMethods:{lazyLoadItem:function(e){e=ke(e);var t=Jt(e);t&&(!t.loaded&&!t.loading||S)&&(Ee("gettingData",e,t),t.src&&ci(t))},initController:function(){o.extend(l,oi,!0),a.items=Vt=i,Jt=a.getItemAt,Qt=l.getNumItemsFn,ei=l.loop,Qt()<3&&(l.loop=!1),Te("beforeChange",function(e){var t,i=l.preload,n=null===e||e>=0,o=Math.min(i[0],Qt()),r=Math.min(i[1],Qt());for(t=1;(n?r:o)>=t;t++)a.lazyLoadItem(m+t);for(t=1;(n?o:r)>=t;t++)a.lazyLoadItem(m-t)}),Te("initialLayout",function(){a.currItem.initialLayout=l.getThumbBoundsFn&&l.getThumbBoundsFn(m)}),Te("mainScrollAnimComplete",mi),Te("initialZoomInEnd",mi),Te("destroy",function(){for(var e,t=0;t<Vt.length;t++)e=Vt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);ni=null})},getItemAt:function(e){return e>=0&&void 0!==Vt[e]&&Vt[e]},allowProgressiveImg:function(){return l.forceProgressiveLoading||!O||l.mouseUsed||screen.width>1200},setContent:function(e,t){l.loop&&(t=ke(t));var i=a.getItemAt(e.index);i&&(i.container=null);var n,r=a.getItemAt(t);if(!r)return void(e.el.innerHTML="");Ee("gettingData",t,r),e.index=t,e.item=r;var s=r.container=o.createEl("pswp__zoom-wrap");if(!r.src&&r.html&&(r.html.tagName?s.appendChild(r.html):s.innerHTML=r.html),ui(r),si(r,fe),!r.src||r.loadError||r.loaded)r.src&&!r.loadError&&(n=o.createEl("pswp__img","img"),n.style.opacity=1,n.src=r.src,di(r,n),li(t,r,s,n,!0));else{if(r.loadComplete=function(i){if(c){if(e&&e.index===t){if(ui(i,!0))return i.loadComplete=i.img=null,si(i,fe),Me(i),void(e.index===m&&a.updateCurrZoomItem());i.imageAppended?!Xt&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):j.transform&&(oe||Xt)?ni.push({item:i,baseDiv:s,img:i.img,index:t,holder:e,clearPlaceholder:!0}):li(t,i,s,i.img,oe||Xt,!0)}i.loadComplete=null,i.img=null,Ee("imageLoadComplete",t,i)}},o.features.transform){var u="pswp__img pswp__img--placeholder";u+=r.msrc?"":" pswp__img--placeholder--blank";var d=o.createEl(u,r.msrc?"img":"");r.msrc&&(d.src=r.msrc),di(r,d),s.appendChild(d),r.placeholder=d}r.loading||ci(r),a.allowProgressiveImg()&&(!qt&&j.transform?ni.push({item:r,baseDiv:s,img:r.img,index:t,holder:e}):li(t,r,s,r.img,!0,!0))}qt||t!==m?Me(r):(ne=s.style,ti(r,n||r.img)),e.el.innerHTML="",e.el.appendChild(s)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var pi,hi={},fi=function(e,t,i){var n=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(n)};Ce("Tap",{publicMethods:{initTap:function(){Te("firstTouchStart",a.onTapStart),Te("touchRelease",a.onTapRelease),Te("destroy",function(){hi={},pi=null})},onTapStart:function(e){e.length>1&&(clearTimeout(pi),pi=null)},onTapRelease:function(e,t){if(t&&!V&&!G&&!Je){var i=t;if(pi&&(clearTimeout(pi),pi=null,_t(i,hi)))return void Ee("doubleTap",i);if("mouse"===t.type)return void fi(e,t,"mouse");var n=e.target.tagName.toUpperCase();if("BUTTON"===n||o.hasClass(e.target,"pswp__single-tap"))return void fi(e,t);Ne(hi,i),pi=setTimeout(function(){fi(e,t),pi=null},300)}}}});var gi;Ce("DesktopZoom",{publicMethods:{initDesktopZoom:function(){N||(O?Te("mouseUsed",function(){a.setupDesktopZoom()}):a.setupDesktopZoom(!0))},setupDesktopZoom:function(t){gi={};var i="wheel mousewheel DOMMouseScroll";Te("bindEvents",function(){o.bind(e,i,a.handleMouseWheel)}),Te("unbindEvents",function(){gi&&o.unbind(e,i,a.handleMouseWheel)}),a.mouseZoomedIn=!1;var n,r=function(){a.mouseZoomedIn&&(o.removeClass(e,"pswp--zoomed-in"),a.mouseZoomedIn=!1),1>w?o.addClass(e,"pswp--zoom-allowed"):o.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){n&&(o.removeClass(e,"pswp--dragging"),n=!1)};Te("resize",r),Te("afterChange",r),Te("pointerDown",function(){a.mouseZoomedIn&&(n=!0,o.addClass(e,"pswp--dragging"))}),Te("pointerUp",s),t||r()},handleMouseWheel:function(e){if(w<=a.currItem.fitRatio)return l.modal&&(!l.closeOnScroll||Je||W?e.preventDefault():R&&Math.abs(e.deltaY)>2&&(d=!0,a.close())),!0;if(e.stopPropagation(),gi.x=0,"deltaX"in e)1===e.deltaMode?(gi.x=18*e.deltaX,gi.y=18*e.deltaY):(gi.x=e.deltaX,gi.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(gi.x=-.16*e.wheelDeltaX),e.wheelDeltaY?gi.y=-.16*e.wheelDeltaY:gi.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;gi.y=e.detail}Be(w,!0);var t=he.x-gi.x,i=he.y-gi.y;(l.modal||t<=ie.min.x&&t>=ie.max.x&&i<=ie.min.y&&i>=ie.max.y)&&e.preventDefault(),a.panTo(t,i)},toggleDesktopZoom:function(t){t=t||{x:fe.x/2+ve.x,y:fe.y/2+ve.y};var i=l.getDoubleTapZoom(!0,a.currItem),n=w===i;a.mouseZoomedIn=!n,a.zoomTo(n?a.currItem.initialZoomLevel:i,t,333),o[(n?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var vi,wi,yi,bi,xi,_i,Si,Ci,ki,Ii,Ti,Ei,Ai={history:!0,galleryUID:1},Ri=function(){return Ti.hash.substring(1)},Di=function(){vi&&clearTimeout(vi),yi&&clearTimeout(yi)},Oi=function(){var e=Ri(),t={};if(e.length<5)return t;var i,n=e.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}if(l.galleryPIDs){var a=t.pid;for(t.pid=0,i=0;i<Vt.length;i++)if(Vt[i].pid===a){t.pid=i;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Mi=function(){if(yi&&clearTimeout(yi),Je||W)return void(yi=setTimeout(Mi,500));bi?clearTimeout(wi):bi=!0;var e=m+1,t=Jt(m);t.hasOwnProperty("pid")&&(e=t.pid);var i=Si+"&gid="+l.galleryUID+"&pid="+e;Ci||-1===Ti.hash.indexOf(i)&&(Ii=!0);var n=Ti.href.split("#")[0]+"#"+i;Ei?"#"+i!==window.location.hash&&history[Ci?"replaceState":"pushState"]("",document.title,n):Ci?Ti.replace(n):Ti.hash=i,Ci=!0,wi=setTimeout(function(){bi=!1},60)};Ce("History",{publicMethods:{initHistory:function(){if(o.extend(l,Ai,!0),l.history){Ti=window.location,Ii=!1,ki=!1,Ci=!1,Si=Ri(),Ei="pushState"in history,Si.indexOf("gid=")>-1&&(Si=Si.split("&gid=")[0],Si=Si.split("?gid=")[0]),Te("afterChange",a.updateURL),Te("unbindEvents",function(){o.unbind(window,"hashchange",a.onHashChange)});var e=function(){_i=!0,ki||(Ii?history.back():Si?Ti.hash=Si:Ei?history.pushState("",document.title,Ti.pathname+Ti.search):Ti.hash=""),Di()};Te("unbindEvents",function(){d&&e()}),Te("destroy",function(){_i||e()}),Te("firstUpdate",function(){m=Oi().pid});var t=Si.indexOf("pid=");t>-1&&(Si=Si.substring(0,t),"&"===Si.slice(-1)&&(Si=Si.slice(0,-1))),setTimeout(function(){c&&o.bind(window,"hashchange",a.onHashChange)},40)}},onHashChange:function(){return Ri()===Si?(ki=!0,void a.close()):void(bi||(xi=!0,a.goTo(Oi().pid),xi=!1))},updateURL:function(){Di(),xi||(Ci?vi=setTimeout(Mi,800):Mi())}}}),o.extend(a,nt)};return e}),!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";var e=function(e,t){var i,n,o,a,r,s,l,c,u,d,m,p,h,f,g,v,w,y,b,x=this,_=!1,S=!0,C=!0,k={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},I=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!u&&L();for(var i,n,o=e.target||e.srcElement,a=o.getAttribute("class")||"",r=0;r<$.length;r++)i=$[r],i.onTap&&a.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);if(n){e.stopPropagation&&e.stopPropagation(),v=!0;var s=t.features.isOldAndroid?600:30;w=setTimeout(function(){v=!1},s)}},T=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},E=function(e,i,n){t[(n?"add":"remove")+"Class"](e,"pswp__"+i)},A=function(){var e=1===g.getNumItemsFn();e!==f&&(E(n,"ui--one-slide",e),f=e)},R=function(){E(l,"share-modal--hidden",C)},D=function(){return C=!C,C?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){C&&R()},300)):(R(),setTimeout(function(){C||t.addClass(l,"pswp__share-modal--fade-in")},30)),C||M(),!1},O=function(t){t=t||window.event;var i=t.target||t.srcElement;return e.shout("shareLinkClick",t,i),!!i.href&&(!!i.hasAttribute("download")||(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),C||D(),!1))},M=function(){for(var e,t,i,n,o,a="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],i=g.getImageURLForShare(e),n=g.getPageURLForShare(e),o=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(o)),a+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(a=g.parseShareButtonOut(e,a));l.children[0].innerHTML=a,l.children[0].onclick=O},F=function(e){for(var i=0;i<g.closeElClasses.length;i++)if(t.hasClass(e,"pswp__"+g.closeElClasses[i]))return!0},P=0,L=function(){clearTimeout(b),P=0,u&&x.setIdle(!1)},N=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout(function(){x.setIdle(!0)},g.timeToIdleOutside))},z=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(i||(i=x.getFullscreenAPI()),i?(t.bind(document,i.eventK,x.updateFullscreen),x.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},j=function(){g.preloaderEl&&(Z(!0),d("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&Z(!1):Z(!0)},g.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,i){e.currItem===i&&Z(!0)}))},Z=function(e){p!==e&&(E(m,"preloader--active",!e),p=e)},U=function(e){var i=e.vGap;if(T()){var r=g.barsSize;if(g.captionEl&&"auto"===r.bottom)if(a||(a=t.createEl("pswp__caption pswp__caption--fake"),a.appendChild(t.createEl("pswp__caption__center")),n.insertBefore(a,o),t.addClass(n,"pswp__ui--fit")),g.addCaptionHTMLFn(e,a,!0)){var s=a.clientHeight;i.bottom=parseInt(s,10)||44}else i.bottom=r.top;else i.bottom="auto"===r.bottom?0:r.bottom;i.top=r.top}else i.top=i.bottom=0},H=function(){g.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",L),t.bind(document,"mouseout",N),y=setInterval(function(){P++,2===P&&x.setIdle(!0)},g.timeToIdle/2)})},B=function(){d("onVerticalDrag",function(e){S&&.95>e?x.hideControls():!S&&e>=.95&&x.showControls()});var e;d("onPinchClose",function(t){S&&.9>t?(x.hideControls(),e=!0):e&&!S&&t>.9&&x.showControls()}),d("zoomGestureEnded",function(){e=!1,e&&!S&&x.showControls()})},$=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){D()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){D()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){m=e}}],K=function(){var e,i,o,a=function(n){if(n)for(var a=n.length,r=0;a>r;r++){e=n[r],i=e.className;for(var s=0;s<$.length;s++)o=$[s],i.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(n.children);var r=t.getChildByClass(n,"pswp__top-bar");r&&a(r.children)};x.init=function(){t.extend(e.options,k,!0),g=e.options,n=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,B(),d("beforeChange",x.update),d("doubleTap",function(t){var i=e.currItem.initialZoomLevel;e.getZoomLevel()!==i?e.zoomTo(i,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,i){var n=e.target||e.srcElement;n&&n.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),d("bindEvents",function(){t.bind(n,"pswpTap click",I),t.bind(e.scrollWrap,"pswpTap",x.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",x.onMouseOver)}),d("unbindEvents",function(){C||D(),y&&clearInterval(y),t.unbind(document,"mouseout",N),t.unbind(document,"mousemove",L),t.unbind(n,"pswpTap click",I),t.unbind(e.scrollWrap,"pswpTap",x.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",x.onMouseOver),i&&(t.unbind(document,i.eventK,x.updateFullscreen),i.isFullscreen()&&(g.hideAnimationDuration=0,i.exit()),i=null)}),d("destroy",function(){g.captionEl&&(a&&n.removeChild(a),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(n,"pswp__ui--over-close"),t.addClass(n,"pswp__ui--hidden"),x.setIdle(!1)}),g.showAnimationDuration||t.removeClass(n,"pswp__ui--hidden"),d("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(n,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(n,"pswp__ui--hidden")}),d("parseVerticalMargin",U),K(),g.shareEl&&s&&l&&(C=!0),A(),H(),z(),j()},x.setIdle=function(e){u=e,E(n,"ui--idle",e)},x.update=function(){S&&e.currItem?(x.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,o),E(o,"caption--empty",!e.currItem.title)),_=!0):_=!1,C||D(),A()},x.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(i.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},x.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},x.onGlobalTap=function(i){i=i||window.event;var n=i.target||i.srcElement;if(!v)if(i.detail&&"mouse"===i.detail.pointerType){if(F(n))return void e.close();t.hasClass(n,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(i.detail.releasePoint))}else if(g.tapToToggleControls&&(S?x.hideControls():x.showControls()),g.tapToClose&&(t.hasClass(n,"pswp__img")||F(n)))return void e.close()},x.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;E(n,"ui--over-close",F(t))},x.hideControls=function(){t.addClass(n,"pswp__ui--hidden"),S=!1},x.showControls=function(){S=!0,_||x.update(),t.removeClass(n,"pswp__ui--hidden")},x.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},x.getFullscreenAPI=function(){var t,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",
elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e}),!function e(t,i,n){function o(r,s){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var u=i[r]={exports:{}};t[r][0].call(u.exports,function(e){var i=t[r][1][e];return o(i?i:e)},u,u.exports,e,t,i,n)}return i[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,o){"function"==typeof define&&define.amd?define(o):"object"===("undefined"==typeof i?"undefined":n(i))?t.exports=o():e.PhotoSwipeUI_Default=o()}(void 0,function(){var e=function(e,t){var i,n,o,a,r,s,l,c,u,d,m,p,h,f,g,v,w,y,b,x=this,_=!1,S=!0,C=!0,k={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return e.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return e.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},I=function(e){if(v)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!u&&L();for(var i,n,o=e.target||e.srcElement,a=o.getAttribute("class")||"",r=0;r<$.length;r++)i=$[r],i.onTap&&a.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);if(n){e.stopPropagation&&e.stopPropagation(),v=!0;var s=t.features.isOldAndroid?600:30;w=setTimeout(function(){v=!1},s)}},T=function(){return!e.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},E=function(e,i,n){t[(n?"add":"remove")+"Class"](e,"pswp__"+i)},A=function(){var e=1===g.getNumItemsFn();e!==f&&(E(n,"ui--one-slide",e),f=e)},R=function(){E(l,"share-modal--hidden",C)},D=function(){return C=!C,C?(t.removeClass(l,"pswp__share-modal--fade-in"),setTimeout(function(){C&&R()},300)):(R(),setTimeout(function(){C||t.addClass(l,"pswp__share-modal--fade-in")},30)),C||M(),!1},O=function(t){t=t||window.event;var i=t.target||t.srcElement;return e.shout("shareLinkClick",t,i),!(!i.href||!i.hasAttribute("download")&&(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),C||D(),1))},M=function(){for(var e,t,i,n,o,a="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],i=g.getImageURLForShare(e),n=g.getPageURLForShare(e),o=g.getTextForShare(e),t=e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(i)).replace("{{raw_image_url}}",i).replace("{{text}}",encodeURIComponent(o)),a+='<a href="'+t+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(a=g.parseShareButtonOut(e,a));l.children[0].innerHTML=a,l.children[0].onclick=O},F=function(e){for(var i=0;i<g.closeElClasses.length;i++)if(t.hasClass(e,"pswp__"+g.closeElClasses[i]))return!0},P=0,L=function(){clearTimeout(b),P=0,u&&x.setIdle(!1)},N=function(e){e=e?e:window.event;var t=e.relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout(function(){x.setIdle(!0)},g.timeToIdleOutside))},z=function(){g.fullscreenEl&&!t.features.isOldAndroid&&(i||(i=x.getFullscreenAPI()),i?(t.bind(document,i.eventK,x.updateFullscreen),x.updateFullscreen(),t.addClass(e.template,"pswp--supports-fs")):t.removeClass(e.template,"pswp--supports-fs"))},j=function(){g.preloaderEl&&(Z(!0),d("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){e.currItem&&e.currItem.loading?(!e.allowProgressiveImg()||e.currItem.img&&!e.currItem.img.naturalWidth)&&Z(!1):Z(!0)},g.loadingIndicatorDelay)}),d("imageLoadComplete",function(t,i){e.currItem===i&&Z(!0)}))},Z=function(e){p!==e&&(E(m,"preloader--active",!e),p=e)},U=function(e){var i=e.vGap;if(T()){var r=g.barsSize;if(g.captionEl&&"auto"===r.bottom)if(a||(a=t.createEl("pswp__caption pswp__caption--fake"),a.appendChild(t.createEl("pswp__caption__center")),n.insertBefore(a,o),t.addClass(n,"pswp__ui--fit")),g.addCaptionHTMLFn(e,a,!0)){var s=a.clientHeight;i.bottom=parseInt(s,10)||44}else i.bottom=r.top;else i.bottom="auto"===r.bottom?0:r.bottom;i.top=r.top}else i.top=i.bottom=0},H=function(){g.timeToIdle&&d("mouseUsed",function(){t.bind(document,"mousemove",L),t.bind(document,"mouseout",N),y=setInterval(function(){P++,2===P&&x.setIdle(!0)},g.timeToIdle/2)})},B=function(){d("onVerticalDrag",function(e){S&&e<.95?x.hideControls():!S&&e>=.95&&x.showControls()});var e;d("onPinchClose",function(t){S&&t<.9?(x.hideControls(),e=!0):e&&!S&&t>.9&&x.showControls()}),d("zoomGestureEnded",function(){e=!1,e&&!S&&x.showControls()})},$=[{name:"caption",option:"captionEl",onInit:function(e){o=e}},{name:"share-modal",option:"shareEl",onInit:function(e){l=e},onTap:function(){D()}},{name:"button--share",option:"shareEl",onInit:function(e){s=e},onTap:function(){D()}},{name:"button--zoom",option:"zoomEl",onTap:e.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){r=e}},{name:"button--close",option:"closeEl",onTap:e.close},{name:"button--arrow--left",option:"arrowEl",onTap:e.prev},{name:"button--arrow--right",option:"arrowEl",onTap:e.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){m=e}}],K=function(){var e,i,o,a=function(n){if(n)for(var a=n.length,r=0;r<a;r++){e=n[r],i=e.className;for(var s=0;s<$.length;s++)o=$[s],i.indexOf("pswp__"+o.name)>-1&&(g[o.option]?(t.removeClass(e,"pswp__element--disabled"),o.onInit&&o.onInit(e)):t.addClass(e,"pswp__element--disabled"))}};a(n.children);var r=t.getChildByClass(n,"pswp__top-bar");r&&a(r.children)};x.init=function(){t.extend(e.options,k,!0),g=e.options,n=t.getChildByClass(e.scrollWrap,"pswp__ui"),d=e.listen,B(),d("beforeChange",x.update),d("doubleTap",function(t){var i=e.currItem.initialZoomLevel;e.getZoomLevel()!==i?e.zoomTo(i,t,333):e.zoomTo(g.getDoubleTapZoom(!1,e.currItem),t,333)}),d("preventDragEvent",function(e,t,i){var n=e.target||e.srcElement;n&&n.getAttribute("class")&&e.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)}),d("bindEvents",function(){t.bind(n,"pswpTap click",I),t.bind(e.scrollWrap,"pswpTap",x.onGlobalTap),e.likelyTouchDevice||t.bind(e.scrollWrap,"mouseover",x.onMouseOver)}),d("unbindEvents",function(){C||D(),y&&clearInterval(y),t.unbind(document,"mouseout",N),t.unbind(document,"mousemove",L),t.unbind(n,"pswpTap click",I),t.unbind(e.scrollWrap,"pswpTap",x.onGlobalTap),t.unbind(e.scrollWrap,"mouseover",x.onMouseOver),i&&(t.unbind(document,i.eventK,x.updateFullscreen),i.isFullscreen()&&(g.hideAnimationDuration=0,i.exit()),i=null)}),d("destroy",function(){g.captionEl&&(a&&n.removeChild(a),t.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),t.removeClass(n,"pswp__ui--over-close"),t.addClass(n,"pswp__ui--hidden"),x.setIdle(!1)}),g.showAnimationDuration||t.removeClass(n,"pswp__ui--hidden"),d("initialZoomIn",function(){g.showAnimationDuration&&t.removeClass(n,"pswp__ui--hidden")}),d("initialZoomOut",function(){t.addClass(n,"pswp__ui--hidden")}),d("parseVerticalMargin",U),K(),g.shareEl&&s&&l&&(C=!0),A(),H(),z(),j()},x.setIdle=function(e){u=e,E(n,"ui--idle",e)},x.update=function(){S&&e.currItem?(x.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(e.currItem,o),E(o,"caption--empty",!e.currItem.title)),_=!0):_=!1,C||D(),A()},x.updateFullscreen=function(n){n&&setTimeout(function(){e.setScrollOffset(0,t.getScrollY())},50),t[(i.isFullscreen()?"add":"remove")+"Class"](e.template,"pswp--fs")},x.updateIndexIndicator=function(){g.counterEl&&(r.innerHTML=e.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},x.onGlobalTap=function(i){i=i||window.event;var n=i.target||i.srcElement;if(!v)if(i.detail&&"mouse"===i.detail.pointerType){if(F(n))return void e.close();t.hasClass(n,"pswp__img")&&(1===e.getZoomLevel()&&e.getZoomLevel()<=e.currItem.fitRatio?g.clickToCloseNonZoomable&&e.close():e.toggleDesktopZoom(i.detail.releasePoint))}else if(g.tapToToggleControls&&(S?x.hideControls():x.showControls()),g.tapToClose&&(t.hasClass(n,"pswp__img")||F(n)))return void e.close()},x.onMouseOver=function(e){e=e||window.event;var t=e.target||e.srcElement;E(n,"ui--over-close",F(t))},x.hideControls=function(){t.addClass(n,"pswp__ui--hidden"),S=!1},x.showControls=function(){S=!0,_||x.update(),t.removeClass(n,"pswp__ui--hidden")},x.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},x.getFullscreenAPI=function(){var t,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){return c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK?e.template[this.enterK]():void e.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},t.isFullscreen=function(){return document[this.elementK]}),t}};return e})},{}],2:[function(e,t,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};!function(e,o){"function"==typeof define&&define.amd?define(o):"object"===("undefined"==typeof i?"undefined":n(i))?t.exports=o():e.PhotoSwipe=o()}(void 0,function(){var e=function(e,t,i,o){var a={features:null,bind:function(e,t,i,n){var o=(n?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],i,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var i=document.createElement(t||"div");return e&&(i.className=e),i},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,i){a.bind(e,t,i,!0)},removeClass:function(e,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){a.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var i=e.firstChild;i;){if(a.hasClass(i,t))return i;i=i.nextSibling}},arraySearch:function(e,t,i){for(var n=e.length;n--;)if(e[n][i]===t)return n;return-1},extend:function(e,t,i){for(var n in t)if(t.hasOwnProperty(n)){if(i&&e.hasOwnProperty(n))continue;e[n]=t[n]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(a.features)return a.features;var e=a.createEl(),t=e.style,i="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!n.pointerEvent){var o=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10),r>=1&&r<8&&(n.isOldIOSPhone=!0))}var s=o.match(/Android\s([0-9\.]*)/),l=s?s[1]:0;l=parseFloat(l),l>=1&&(l<4.4&&(n.isOldAndroid=!0),n.androidVersion=l),n.isMobileOpera=/opera mini|opera mobi/i.test(o)}for(var c,u,d=["transform","perspective","animationName"],m=["","webkit","Moz","ms","O"],p=0;p<4;p++){i=m[p];for(var h=0;h<3;h++)c=d[h],u=i+(i?c.charAt(0).toUpperCase()+c.slice(1):c),!n[c]&&u in t&&(n[c]=u);i&&!n.raf&&(i=i.toLowerCase(),n.raf=window[i+"RequestAnimationFrame"],n.raf&&(n.caf=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]))}if(!n.raf){var f=0;n.raf=function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-f)),n=window.setTimeout(function(){e(t+i)},i);return f=t+i,n},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,a.features=n,n}};a.detectFeatures(),a.features.oldIE&&(a.bind=function(e,t,i,o){t=t.split(" ");for(var a,r=(o?"detach":"attach")+"Event",s=function(){i.handleEvent.call(i)},l=0;l<t.length;l++)if(a=t[l])if("object"===("undefined"==typeof i?"undefined":n(i))&&i.handleEvent){if(o){if(!i["oldIE"+a])return!1}else i["oldIE"+a]=s;e[r]("on"+a,i["oldIE"+a])}else e[r]("on"+a,i)});var r=this,s=25,l=3,c={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};a.extend(c,o);var u,d,m,p,h,f,g,v,w,y,b,x,_,S,C,k,I,T,E,A,R,D,O,M,F,P,L,N,z,j,Z,U,H,B,$,K,W,G,Y,V,q,X,J,Q,ee,te,ie,ne,oe,ae,re,se,le,ce,ue,de,me=function(){return{x:0,y:0}},pe=me(),he=me(),fe=me(),ge={},ve=0,we={},ye=me(),be=0,xe=!0,_e=[],Se={},Ce=!1,ke=function(e,t){a.extend(r,t.publicMethods),_e.push(e)},Ie=function(e){var t=ei();return e>t-1?e-t:e<0?t+e:e},Te={},Ee=function(e,t){return Te[e]||(Te[e]=[]),Te[e].push(t)},Ae=function(e){var t=Te[e];if(t){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<t.length;n++)t[n].apply(r,i)}},Re=function(){return(new Date).getTime()},De=function(e){ce=e,r.bg.style.opacity=e*c.bgOpacity},Oe=function(e,t,i,n,o){(!Ce||o&&o!==r.currItem)&&(n/=o?o.fitRatio:r.currItem.fitRatio),e[D]=x+t+"px, "+i+"px"+_+" scale("+n+")"},Me=function(e){oe&&(e&&(y>r.currItem.fitRatio?Ce||(mi(r.currItem,!1,!0),Ce=!0):Ce&&(mi(r.currItem),Ce=!1)),Oe(oe,fe.x,fe.y,y))},Fe=function(e){e.container&&Oe(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Pe=function(e,t){t[D]=x+e+"px, 0px"+_},Le=function(e,t){if(!c.loop&&t){var i=p+(ye.x*ve-e)/ye.x,n=Math.round(e-yt.x);(i<0&&n>0||i>=ei()-1&&n<0)&&(e=yt.x+n*c.mainScrollEndFriction)}yt.x=e,Pe(e,h)},Ne=function(e,t){var i=bt[e]-we[e];return he[e]+pe[e]+i-i*(t/b)},ze=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},je=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Ze=null,Ue=function Pi(){Ze&&(a.unbind(document,"mousemove",Pi),a.addClass(e,"pswp--has_mouse"),c.mouseUsed=!0,Ae("mouseUsed")),Ze=setTimeout(function(){Ze=null},100)},He=function(){a.bind(document,"keydown",r),Z.transform&&a.bind(r.scrollWrap,"click",r),c.mouseUsed||a.bind(document,"mousemove",Ue),a.bind(window,"resize scroll",r),Ae("bindEvents")},Be=function(){a.unbind(window,"resize",r),a.unbind(window,"scroll",w.scroll),a.unbind(document,"keydown",r),a.unbind(document,"mousemove",Ue),Z.transform&&a.unbind(r.scrollWrap,"click",r),G&&a.unbind(window,g,r),Ae("unbindEvents")},$e=function(e,t){var i=li(r.currItem,ge,e);return t&&(ne=i),i},Ke=function(e){return e||(e=r.currItem),e.initialZoomLevel},We=function(e){return e||(e=r.currItem),e.w>0?c.maxSpreadZoom:1},Ge=function(e,t,i,n){return n===r.currItem.initialZoomLevel?(i[e]=r.currItem.initialPosition[e],!0):(i[e]=Ne(e,n),i[e]>t.min[e]?(i[e]=t.min[e],!0):i[e]<t.max[e]&&(i[e]=t.max[e],!0))},Ye=function(){if(D){var t=Z.perspective&&!M;return x="translate"+(t?"3d(":"("),void(_=Z.perspective?", 0px)":")")}D="left",a.addClass(e,"pswp--ie"),Pe=function(e,t){t.left=e+"px"},Fe=function(e){var t=e.fitRatio>1?1:e.fitRatio,i=e.container.style,n=t*e.w,o=t*e.h;i.width=n+"px",i.height=o+"px",i.left=e.initialPosition.x+"px",i.top=e.initialPosition.y+"px"},Me=function(){if(oe){var e=oe,t=r.currItem,i=t.fitRatio>1?1:t.fitRatio,n=i*t.w,o=i*t.h;e.width=n+"px",e.height=o+"px",e.left=fe.x+"px",e.top=fe.y+"px"}}},Ve=function(e){var t="";c.escKey&&27===e.keyCode?t="close":c.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,r[t]()))},qe=function(e){e&&(q||V||ae||K)&&(e.preventDefault(),e.stopPropagation())},Xe=function(){r.setScrollOffset(0,a.getScrollY())},Je={},Qe=0,et=function(e){Je[e]&&(Je[e].raf&&P(Je[e].raf),Qe--,delete Je[e])},tt=function(e){Je[e]&&et(e),Je[e]||(Qe++,Je[e]={})},it=function(){for(var e in Je)Je.hasOwnProperty(e)&&et(e)},nt=function(e,t,i,n,o,a,r){var s,l=Re();tt(e);var c=function u(){if(Je[e]){if(s=Re()-l,s>=n)return et(e),a(i),void(r&&r());a((i-t)*o(s/n)+t),Je[e].raf=F(u)}};c()},ot={shout:Ae,listen:Ee,viewportSize:ge,options:c,isMainScrollAnimating:function(){return ae},getZoomLevel:function(){return y},getCurrentIndex:function(){return p},isDragging:function(){return G},isZooming:function(){return ee},setScrollOffset:function(e,t){we.x=e,j=we.y=t,Ae("updateScrollOffset",we)},applyZoomPan:function(e,t,i,n){fe.x=t,fe.y=i,y=e,Me(n)},init:function(){if(!u&&!d){var i;r.framework=a,r.template=e,r.bg=a.getChildByClass(e,"pswp__bg"),L=e.className,u=!0,Z=a.detectFeatures(),F=Z.raf,P=Z.caf,D=Z.transform,z=Z.oldIE,r.scrollWrap=a.getChildByClass(e,"pswp__scroll-wrap"),r.container=a.getChildByClass(r.scrollWrap,"pswp__container"),h=r.container.style,r.itemHolders=k=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],k[0].el.style.display=k[2].el.style.display="none",Ye(),w={resize:r.updateSize,scroll:Xe,keydown:Ve,click:qe};var n=Z.isOldIOSPhone||Z.isOldAndroid||Z.isMobileOpera;for(Z.animationName&&Z.transform&&!n||(c.showAnimationDuration=c.hideAnimationDuration=0),i=0;i<_e.length;i++)r["init"+_e[i]]();if(t){var o=r.ui=new t(r,a);o.init()}Ae("firstUpdate"),p=p||c.index||0,(isNaN(p)||p<0||p>=ei())&&(p=0),r.currItem=Qt(p),(Z.isOldIOSPhone||Z.isOldAndroid)&&(xe=!1),e.setAttribute("aria-hidden","false"),c.modal&&(xe?e.style.position="fixed":(e.style.position="absolute",e.style.top=a.getScrollY()+"px")),void 0===j&&(Ae("initialLayout"),j=N=a.getScrollY());var s="pswp--open ";for(c.mainClass&&(s+=c.mainClass+" "),c.showHideOpacity&&(s+="pswp--animate_opacity "),s+=M?"pswp--touch":"pswp--notouch",s+=Z.animationName?" pswp--css_animation":"",s+=Z.svg?" pswp--svg":"",a.addClass(e,s),r.updateSize(),f=-1,be=null,i=0;i<l;i++)Pe((i+f)*ye.x,k[i].el.style);z||a.bind(r.scrollWrap,v,r),Ee("initialZoomInEnd",function(){r.setContent(k[0],p-1),r.setContent(k[2],p+1),k[0].el.style.display=k[2].el.style.display="block",c.focus&&e.focus(),He()}),r.setContent(k[1],p),r.updateCurrItem(),Ae("afterInit"),xe||(S=setInterval(function(){Qe||G||ee||y!==r.currItem.initialZoomLevel||r.updateSize()},1e3)),a.addClass(e,"pswp--visible")}},close:function(){u&&(u=!1,d=!0,Ae("close"),Be(),ii(r.currItem,null,!0,r.destroy))},destroy:function(){Ae("destroy"),Vt&&clearTimeout(Vt),e.setAttribute("aria-hidden","true"),e.className=L,S&&clearInterval(S),a.unbind(r.scrollWrap,v,r),a.unbind(window,"scroll",r),kt(),it(),Te=null},panTo:function(e,t,i){i||(e>ne.min.x?e=ne.min.x:e<ne.max.x&&(e=ne.max.x),t>ne.min.y?t=ne.min.y:t<ne.max.y&&(t=ne.max.y)),fe.x=e,fe.y=t,Me()},handleEvent:function(e){e=e||window.event,w[e.type]&&w[e.type](e)},goTo:function(e){e=Ie(e);var t=e-p;be=t,p=e,r.currItem=Qt(p),ve-=t,Le(ye.x*ve),it(),ae=!1,r.updateCurrItem()},next:function(){r.goTo(p+1)},prev:function(){r.goTo(p-1)},updateCurrZoomItem:function(e){if(e&&Ae("beforeChange",0),k[1].el.children.length){var t=k[1].el.children[0];oe=a.hasClass(t,"pswp__zoom-wrap")?t.style:null}else oe=null;ne=r.currItem.bounds,b=y=r.currItem.initialZoomLevel,fe.x=ne.center.x,fe.y=ne.center.y,e&&Ae("afterChange")},invalidateCurrItems:function(){C=!0;for(var e=0;e<l;e++)k[e].item&&(k[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==be){var t,i=Math.abs(be);if(!(e&&i<2)){r.currItem=Qt(p),Ce=!1,Ae("beforeChange",be),i>=l&&(f+=be+(be>0?-l:l),i=l);for(var n=0;n<i;n++)be>0?(t=k.shift(),k[l-1]=t,f++,Pe((f+2)*ye.x,t.el.style),r.setContent(t,p-i+n+1+1)):(t=k.pop(),k.unshift(t),f--,Pe(f*ye.x,t.el.style),r.setContent(t,p+i-n-1-1));if(oe&&1===Math.abs(be)){var o=Qt(I);o.initialZoomLevel!==y&&(li(o,ge),mi(o),Fe(o))}be=0,r.updateCurrZoomItem(),I=p,Ae("afterChange")}}},updateSize:function(t){if(!xe&&c.modal){var i=a.getScrollY();if(j!==i&&(e.style.top=i+"px",j=i),!t&&Se.x===window.innerWidth&&Se.y===window.innerHeight)return;Se.x=window.innerWidth,Se.y=window.innerHeight,e.style.height=Se.y+"px"}if(ge.x=r.scrollWrap.clientWidth,ge.y=r.scrollWrap.clientHeight,Xe(),ye.x=ge.x+Math.round(ge.x*c.spacing),ye.y=ge.y,Le(ye.x*ve),Ae("beforeResize"),void 0!==f){for(var n,o,s,u=0;u<l;u++)n=k[u],Pe((u+f)*ye.x,n.el.style),s=p+u-1,c.loop&&ei()>2&&(s=Ie(s)),o=Qt(s),o&&(C||o.needsUpdate||!o.bounds)?(r.cleanSlide(o),r.setContent(n,s),1===u&&(r.currItem=o,r.updateCurrZoomItem(!0)),o.needsUpdate=!1):n.index===-1&&s>=0&&r.setContent(n,s),o&&o.container&&(li(o,ge),mi(o),Fe(o));C=!1}b=y=r.currItem.initialZoomLevel,ne=r.currItem.bounds,ne&&(fe.x=ne.center.x,fe.y=ne.center.y,Me(!0)),Ae("resize")},zoomTo:function(e,t,i,n,o){t&&(b=y,bt.x=Math.abs(t.x)-fe.x,bt.y=Math.abs(t.y)-fe.y,ze(he,fe));var r=$e(e,!1),s={};Ge("x",r,s,e),Ge("y",r,s,e);var l=y,c={x:fe.x,y:fe.y};je(s);var u=function(t){1===t?(y=e,fe.x=s.x,fe.y=s.y):(y=(e-l)*t+l,fe.x=(s.x-c.x)*t+c.x,fe.y=(s.y-c.y)*t+c.y),o&&o(t),Me(1===t)};i?nt("customZoomTo",0,1,i,n||a.easing.sine.inOut,u):u(1)}},at=30,rt=10,st={},lt={},ct={},ut={},dt={},mt=[],pt={},ht=[],ft={},gt=0,vt=me(),wt=0,yt=me(),bt=me(),xt=me(),_t=function(e,t){return e.x===t.x&&e.y===t.y},St=function(e,t){return Math.abs(e.x-t.x)<s&&Math.abs(e.y-t.y)<s},Ct=function(e,t){return ft.x=Math.abs(e.x-t.x),ft.y=Math.abs(e.y-t.y),Math.sqrt(ft.x*ft.x+ft.y*ft.y)},kt=function(){X&&(P(X),X=null)},It=function Li(){G&&(X=F(Li),Ht())},Tt=function(){return!("fit"===c.scaleMode&&y===r.currItem.initialZoomLevel)},Et=function Ni(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(t(e)?e:Ni(e.parentNode,t))},At={},Rt=function(e,t){return At.prevent=!Et(e.target,c.isClickableElement),Ae("preventDragEvent",e,t,At),At.prevent},Dt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Ot=function(e,t,i){i.x=.5*(e.x+t.x),i.y=.5*(e.y+t.y)},Mt=function(e,t,i){if(e-H>50){var n=ht.length>2?ht.shift():{};n.x=t,n.y=i,ht.push(n),H=e}},Ft=function(){var e=fe.y-r.currItem.initialPosition.y;return 1-Math.abs(e/(ge.y/2))},Pt={},Lt={},Nt=[],zt=function(e){for(;Nt.length>0;)Nt.pop();return O?(de=0,mt.forEach(function(e){0===de?Nt[0]=e:1===de&&(Nt[1]=e),de++})):e.type.indexOf("touch")>-1?e.touches&&e.touches.length>0&&(Nt[0]=Dt(e.touches[0],Pt),e.touches.length>1&&(Nt[1]=Dt(e.touches[1],Lt))):(Pt.x=e.pageX,Pt.y=e.pageY,Pt.id="",Nt[0]=Pt),Nt},jt=function(e,t){var i,n,o,a,s=0,l=fe[e]+t[e],u=t[e]>0,d=yt.x+t.x,m=yt.x-pt.x;return i=l>ne.min[e]||l<ne.max[e]?c.panEndFriction:1,l=fe[e]+t[e]*i,!c.allowPanToNext&&y!==r.currItem.initialZoomLevel||(oe?"h"!==re||"x"!==e||V||(u?(l>ne.min[e]&&(i=c.panEndFriction,s=ne.min[e]-l,n=ne.min[e]-he[e]),(n<=0||m<0)&&ei()>1?(a=d,m<0&&d>pt.x&&(a=pt.x)):ne.min.x!==ne.max.x&&(o=l)):(l<ne.max[e]&&(i=c.panEndFriction,s=l-ne.max[e],n=he[e]-ne.max[e]),(n<=0||m>0)&&ei()>1?(a=d,m>0&&d<pt.x&&(a=pt.x)):ne.min.x!==ne.max.x&&(o=l))):a=d,"x"!==e)?void(ae||J||y>r.currItem.fitRatio&&(fe[e]+=t[e]*i)):(void 0!==a&&(Le(a,!0),J=a!==pt.x),ne.min.x!==ne.max.x&&(void 0!==o?fe.x=o:J||(fe.x+=t.x*i)),void 0!==a)},Zt=function(e){if(!("mousedown"===e.type&&e.button>0)){if(Jt)return void e.preventDefault();if(!W||"mousedown"!==e.type){if(Rt(e,!0)&&e.preventDefault(),Ae("pointerDown"),O){var t=a.arraySearch(mt,e.pointerId,"id");t<0&&(t=mt.length),mt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var i=zt(e),n=i.length;Q=null,it(),G&&1!==n||(G=se=!0,a.bind(window,g,r),$=ue=le=K=J=q=Y=V=!1,re=null,Ae("firstTouchStart",i),ze(he,fe),pe.x=pe.y=0,ze(ut,i[0]),ze(dt,ut),pt.x=ye.x*ve,ht=[{x:ut.x,y:ut.y}],H=U=Re(),$e(y,!0),kt(),It()),!ee&&n>1&&!ae&&!J&&(b=y,V=!1,ee=Y=!0,pe.y=pe.x=0,ze(he,fe),ze(st,i[0]),ze(lt,i[1]),Ot(st,lt,xt),bt.x=Math.abs(xt.x)-fe.x,bt.y=Math.abs(xt.y)-fe.y,te=ie=Ct(st,lt))}}},Ut=function(e){if(e.preventDefault(),O){var t=a.arraySearch(mt,e.pointerId,"id");if(t>-1){var i=mt[t];i.x=e.pageX,i.y=e.pageY}}if(G){var n=zt(e);if(re||q||ee)Q=n;else if(yt.x!==ye.x*ve)re="h";else{var o=Math.abs(n[0].x-ut.x)-Math.abs(n[0].y-ut.y);Math.abs(o)>=rt&&(re=o>0?"h":"v",Q=n)}}},Ht=function(){if(Q){var e=Q.length;if(0!==e)if(ze(st,Q[0]),ct.x=st.x-ut.x,ct.y=st.y-ut.y,ee&&e>1){if(ut.x=st.x,ut.y=st.y,!ct.x&&!ct.y&&_t(Q[1],lt))return;ze(lt,Q[1]),V||(V=!0,Ae("zoomGestureStarted"));var t=Ct(st,lt),i=Gt(t);i>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(ue=!0);var n=1,o=Ke(),a=We();if(i<o)if(c.pinchToClose&&!ue&&b<=r.currItem.initialZoomLevel){var s=o-i,l=1-s/(o/1.2);De(l),Ae("onPinchClose",l),le=!0}else n=(o-i)/o,n>1&&(n=1),i=o-n*(o/3);else i>a&&(n=(i-a)/(6*o),n>1&&(n=1),i=a+n*o);n<0&&(n=0),te=t,Ot(st,lt,vt),pe.x+=vt.x-xt.x,pe.y+=vt.y-xt.y,ze(xt,vt),fe.x=Ne("x",i),fe.y=Ne("y",i),$=i>y,y=i,Me()}else{if(!re)return;if(se&&(se=!1,Math.abs(ct.x)>=rt&&(ct.x-=Q[0].x-dt.x),Math.abs(ct.y)>=rt&&(ct.y-=Q[0].y-dt.y)),ut.x=st.x,ut.y=st.y,0===ct.x&&0===ct.y)return;if("v"===re&&c.closeOnVerticalDrag&&!Tt()){pe.y+=ct.y,fe.y+=ct.y;var u=Ft();return K=!0,Ae("onVerticalDrag",u),De(u),void Me()}Mt(Re(),st.x,st.y),q=!0,ne=r.currItem.bounds;var d=jt("x",ct);d||(jt("y",ct),je(fe),Me())}}},Bt=function(e){if(Z.isOldAndroid){if(W&&"mouseup"===e.type)return;e.type.indexOf("touch")>-1&&(clearTimeout(W),W=setTimeout(function(){W=0},600))}Ae("pointerUp"),Rt(e,!1)&&e.preventDefault();var t;if(O){var i=a.arraySearch(mt,e.pointerId,"id");if(i>-1)if(t=mt.splice(i,1)[0],navigator.pointerEnabled)t.type=e.pointerType||"mouse";else{var n={4:"mouse",2:"touch",3:"pen"};t.type=n[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}}var o,s=zt(e),l=s.length;if("mouseup"===e.type&&(l=0),2===l)return Q=null,!0;1===l&&ze(dt,s[0]),0!==l||re||ae||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),Ae("touchRelease",e,t));var u=-1;if(0===l&&(G=!1,a.unbind(window,g,r),kt(),ee?u=0:wt!==-1&&(u=Re()-wt)),wt=1===l?Re():-1,o=u!==-1&&u<150?"zoom":"swipe",ee&&l<2&&(ee=!1,1===l&&(o="zoomPointerUp"),Ae("zoomGestureEnded")),Q=null,q||V||ae||K)if(it(),B||(B=$t()),B.calculateSwipeSpeed("x"),K){var d=Ft();if(d<c.verticalDragRange)r.close();else{var m=fe.y,p=ce;nt("verticalDrag",0,1,300,a.easing.cubic.out,function(e){fe.y=(r.currItem.initialPosition.y-m)*e+m,De((1-p)*e+p),Me()}),Ae("onVerticalDrag",1)}}else{if((J||ae)&&0===l){var h=Wt(o,B);if(h)return;o="zoomPointerUp"}if(!ae)return"swipe"!==o?void Yt():void(!J&&y>r.currItem.fitRatio&&Kt(B))}},$t=function(){var e,t,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){ht.length>1?(e=Re()-H+50,t=ht[ht.length-2][n]):(e=Re()-U,t=dt[n]),i.lastFlickOffset[n]=ut[n]-t,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/e:i.lastFlickSpeed[n]=0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(e,t){i.backAnimStarted[e]||(fe[e]>ne.min[e]?i.backAnimDestination[e]=ne.min[e]:fe[e]<ne.max[e]&&(i.backAnimDestination[e]=ne.max[e]),void 0!==i.backAnimDestination[e]&&(i.slowDownRatio[e]=.7,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatioAbs[e]<.05&&(i.lastFlickSpeed[e]=0,i.backAnimStarted[e]=!0,nt("bounceZoomPan"+e,fe[e],i.backAnimDestination[e],t||300,a.easing.sine.out,function(t){fe[e]=t,Me()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,fe[e]+=i.distanceOffset[e])},panAnimLoop:function(){if(Je.zoomPan&&(Je.zoomPan.raf=F(i.panAnimLoop),i.now=Re(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),Me(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return fe.x=Math.round(fe.x),fe.y=Math.round(fe.y),Me(),void et("zoomPan")}};return i},Kt=function(e){return e.calculateSwipeSpeed("y"),ne=r.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05?(e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0):(tt("zoomPan"),e.lastNow=Re(),void e.panAnimLoop())},Wt=function(e,t){var i;ae||(gt=p);var n;if("swipe"===e){var o=ut.x-dt.x,s=t.lastFlickDist.x<10;o>at&&(s||t.lastFlickOffset.x>20)?n=-1:o<-at&&(s||t.lastFlickOffset.x<-20)&&(n=1)}var l;n&&(p+=n,p<0?(p=c.loop?ei()-1:0,l=!0):p>=ei()&&(p=c.loop?0:ei()-1,l=!0),l&&!c.loop||(be+=n,ve-=n,i=!0));var u,d=ye.x*ve,m=Math.abs(d-yt.x);return i||d>yt.x==t.lastFlickSpeed.x>0?(u=Math.abs(t.lastFlickSpeed.x)>0?m/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),u=Math.max(u,250)):u=333,gt===p&&(i=!1),ae=!0,Ae("mainScrollAnimStart"),nt("mainScroll",yt.x,d,u,a.easing.cubic.out,Le,function(){it(),ae=!1,gt=-1,(i||gt!==p)&&r.updateCurrItem(),Ae("mainScrollAnimComplete")}),i&&r.updateCurrItem(!0),i},Gt=function(e){return 1/ie*e*b},Yt=function(){var e=y,t=Ke(),i=We();y<t?e=t:y>i&&(e=i);var n,o=1,s=ce;return le&&!$&&!ue&&y<t?(r.close(),!0):(le&&(n=function(e){De((o-s)*e+s)}),r.zoomTo(e,0,200,a.easing.cubic.out,n),!0)};ke("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,i,n,o){T=e+t,E=e+i,A=e+n,R=o?e+o:""};O=Z.pointerEvent,O&&Z.touch&&(Z.touch=!1),O?navigator.pointerEnabled?e("pointer","down","move","up","cancel"):e("MSPointer","Down","Move","Up","Cancel"):Z.touch?(e("touch","start","move","end","cancel"),
M=!0):e("mouse","down","move","up"),g=E+" "+A+" "+R,v=T,O&&!M&&(M=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=M,w[T]=Zt,w[E]=Ut,w[A]=Bt,R&&(w[R]=w[A]),Z.touch&&(v+=" mousedown",g+=" mousemove mouseup",w.mousedown=w[T],w.mousemove=w[E],w.mouseup=w[A]),M||(c.allowPanToNext=!1)}}});var Vt,qt,Xt,Jt,Qt,ei,ti,ii=function(t,i,n,o){Vt&&clearTimeout(Vt),Jt=!0,Xt=!0;var s;t.initialLayout?(s=t.initialLayout,t.initialLayout=null):s=c.getThumbBoundsFn&&c.getThumbBoundsFn(p);var l=n?c.hideAnimationDuration:c.showAnimationDuration,u=function(){et("initialZoom"),n?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(De(1),i&&(i.style.display="block"),a.addClass(e,"pswp--animated-in"),Ae("initialZoom"+(n?"OutEnd":"InEnd"))),o&&o(),Jt=!1};if(!l||!s||void 0===s.x)return Ae("initialZoom"+(n?"Out":"In")),y=t.initialZoomLevel,ze(fe,t.initialPosition),Me(),e.style.opacity=n?0:1,De(1),void(l?setTimeout(function(){u()},l):u());var d=function(){var i=m,o=!r.currItem.src||r.currItem.loadError||c.showHideOpacity;t.miniImg&&(t.miniImg.style.webkitBackfaceVisibility="hidden"),n||(y=s.w/t.w,fe.x=s.x,fe.y=s.y-N,r[o?"template":"bg"].style.opacity=.001,Me()),tt("initialZoom"),n&&!i&&a.removeClass(e,"pswp--animated-in"),o&&(n?a[(i?"remove":"add")+"Class"](e,"pswp--animate_opacity"):setTimeout(function(){a.addClass(e,"pswp--animate_opacity")},30)),Vt=setTimeout(function(){if(Ae("initialZoom"+(n?"Out":"In")),n){var r=s.w/t.w,c={x:fe.x,y:fe.y},d=y,m=ce,p=function(t){1===t?(y=r,fe.x=s.x,fe.y=s.y-j):(y=(r-d)*t+d,fe.x=(s.x-c.x)*t+c.x,fe.y=(s.y-j-c.y)*t+c.y),Me(),o?e.style.opacity=1-t:De(m-t*m)};i?nt("initialZoom",0,1,l,a.easing.cubic.out,p,u):(p(1),Vt=setTimeout(u,l+20))}else y=t.initialZoomLevel,ze(fe,t.initialPosition),Me(),De(1),o?e.style.opacity=1:De(1),Vt=setTimeout(u,l+20)},n?25:90)};d()},ni={},oi=[],ai={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return qt.length}},ri=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},si=function(e,t,i){var n=e.bounds;n.center.x=Math.round((ni.x-t)/2),n.center.y=Math.round((ni.y-i)/2)+e.vGap.top,n.max.x=t>ni.x?Math.round(ni.x-t):n.center.x,n.max.y=i>ni.y?Math.round(ni.y-i)+e.vGap.top:n.center.y,n.min.x=t>ni.x?0:n.center.x,n.min.y=i>ni.y?e.vGap.top:n.center.y},li=function(e,t,i){if(e.src&&!e.loadError){var n=!i;if(n&&(e.vGap||(e.vGap={top:0,bottom:0}),Ae("parseVerticalMargin",e)),ni.x=t.x,ni.y=t.y-e.vGap.top-e.vGap.bottom,n){var o=ni.x/e.w,a=ni.y/e.h;e.fitRatio=o<a?o:a;var r=c.scaleMode;"orig"===r?i=1:"fit"===r&&(i=e.fitRatio),i>1&&(i=1),e.initialZoomLevel=i,e.bounds||(e.bounds=ri())}if(!i)return;return si(e,e.w*i,e.h*i),n&&i===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds}return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=ri(),e.initialPosition=e.bounds.center,e.bounds},ci=function(e,t,i,n,o,a){t.loadError||n&&(t.imageAppended=!0,mi(t,n,t===r.currItem&&Ce),i.appendChild(n),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},ui=function(e){e.loading=!0,e.loaded=!1;var t=e.img=a.createEl("pswp__img","img"),i=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=i,t.onerror=function(){e.loadError=!0,i()},t.src=e.src,t},di=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=c.errorMsg.replace("%url%",e.src),!0},mi=function(e,t,i){if(e.src){t||(t=e.container.lastChild);var n=i?e.w:Math.round(e.w*e.fitRatio),o=i?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=n+"px",e.placeholder.style.height=o+"px"),t.style.width=n+"px",t.style.height=o+"px"}},pi=function(){if(oi.length){for(var e,t=0;t<oi.length;t++)e=oi[t],e.holder.index===e.index&&ci(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);oi=[]}};ke("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ie(e);var t=Qt(e);t&&(!t.loaded&&!t.loading||C)&&(Ae("gettingData",e,t),t.src&&ui(t))},initController:function(){a.extend(c,ai,!0),r.items=qt=i,Qt=r.getItemAt,ei=c.getNumItemsFn,ti=c.loop,ei()<3&&(c.loop=!1),Ee("beforeChange",function(e){var t,i=c.preload,n=null===e||e>=0,o=Math.min(i[0],ei()),a=Math.min(i[1],ei());for(t=1;t<=(n?a:o);t++)r.lazyLoadItem(p+t);for(t=1;t<=(n?o:a);t++)r.lazyLoadItem(p-t)}),Ee("initialLayout",function(){r.currItem.initialLayout=c.getThumbBoundsFn&&c.getThumbBoundsFn(p)}),Ee("mainScrollAnimComplete",pi),Ee("initialZoomInEnd",pi),Ee("destroy",function(){for(var e,t=0;t<qt.length;t++)e=qt[t],e.container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);oi=null})},getItemAt:function(e){return e>=0&&void 0!==qt[e]&&qt[e]},allowProgressiveImg:function(){return c.forceProgressiveLoading||!M||c.mouseUsed||screen.width>1200},setContent:function(e,t){c.loop&&(t=Ie(t));var i=r.getItemAt(e.index);i&&(i.container=null);var n,o=r.getItemAt(t);if(!o)return void(e.el.innerHTML="");Ae("gettingData",t,o),e.index=t,e.item=o;var s=o.container=a.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?s.appendChild(o.html):s.innerHTML=o.html),di(o),li(o,ge),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&(n=a.createEl("pswp__img","img"),n.style.opacity=1,n.src=o.src,mi(o,n),ci(t,o,s,n,!0));else{if(o.loadComplete=function(i){if(u){if(e&&e.index===t){if(di(i,!0))return i.loadComplete=i.img=null,li(i,ge),Fe(i),void(e.index===p&&r.updateCurrZoomItem());i.imageAppended?!Jt&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):Z.transform&&(ae||Jt)?oi.push({item:i,baseDiv:s,img:i.img,index:t,holder:e,clearPlaceholder:!0}):ci(t,i,s,i.img,ae||Jt,!0)}i.loadComplete=null,i.img=null,Ae("imageLoadComplete",t,i)}},a.features.transform){var l="pswp__img pswp__img--placeholder";l+=o.msrc?"":" pswp__img--placeholder--blank";var d=a.createEl(l,o.msrc?"img":"");o.msrc&&(d.src=o.msrc),mi(o,d),s.appendChild(d),o.placeholder=d}o.loading||ui(o),r.allowProgressiveImg()&&(!Xt&&Z.transform?oi.push({item:o,baseDiv:s,img:o.img,index:t,holder:e}):ci(t,o,s,o.img,!0,!0))}Xt||t!==p?Fe(o):(oe=s.style,ii(o,n||o.img)),e.el.innerHTML="",e.el.appendChild(s)},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var hi,fi={},gi=function(e,t,i){var n=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(n)};ke("Tap",{publicMethods:{initTap:function(){Ee("firstTouchStart",r.onTapStart),Ee("touchRelease",r.onTapRelease),Ee("destroy",function(){fi={},hi=null})},onTapStart:function(e){e.length>1&&(clearTimeout(hi),hi=null)},onTapRelease:function(e,t){if(t&&!q&&!Y&&!Qe){var i=t;if(hi&&(clearTimeout(hi),hi=null,St(i,fi)))return void Ae("doubleTap",i);if("mouse"===t.type)return void gi(e,t,"mouse");var n=e.target.tagName.toUpperCase();if("BUTTON"===n||a.hasClass(e.target,"pswp__single-tap"))return void gi(e,t);ze(fi,i),hi=setTimeout(function(){gi(e,t),hi=null},300)}}}});var vi;ke("DesktopZoom",{publicMethods:{initDesktopZoom:function(){z||(M?Ee("mouseUsed",function(){r.setupDesktopZoom()}):r.setupDesktopZoom(!0))},setupDesktopZoom:function(t){vi={};var i="wheel mousewheel DOMMouseScroll";Ee("bindEvents",function(){a.bind(e,i,r.handleMouseWheel)}),Ee("unbindEvents",function(){vi&&a.unbind(e,i,r.handleMouseWheel)}),r.mouseZoomedIn=!1;var n,o=function(){r.mouseZoomedIn&&(a.removeClass(e,"pswp--zoomed-in"),r.mouseZoomedIn=!1),y<1?a.addClass(e,"pswp--zoom-allowed"):a.removeClass(e,"pswp--zoom-allowed"),s()},s=function(){n&&(a.removeClass(e,"pswp--dragging"),n=!1)};Ee("resize",o),Ee("afterChange",o),Ee("pointerDown",function(){r.mouseZoomedIn&&(n=!0,a.addClass(e,"pswp--dragging"))}),Ee("pointerUp",s),t||o()},handleMouseWheel:function(e){if(y<=r.currItem.fitRatio)return c.modal&&(!c.closeOnScroll||Qe||G?e.preventDefault():D&&Math.abs(e.deltaY)>2&&(m=!0,r.close())),!0;if(e.stopPropagation(),vi.x=0,"deltaX"in e)1===e.deltaMode?(vi.x=18*e.deltaX,vi.y=18*e.deltaY):(vi.x=e.deltaX,vi.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(vi.x=-.16*e.wheelDeltaX),e.wheelDeltaY?vi.y=-.16*e.wheelDeltaY:vi.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;vi.y=e.detail}$e(y,!0);var t=fe.x-vi.x,i=fe.y-vi.y;(c.modal||t<=ne.min.x&&t>=ne.max.x&&i<=ne.min.y&&i>=ne.max.y)&&e.preventDefault(),r.panTo(t,i)},toggleDesktopZoom:function(t){t=t||{x:ge.x/2+we.x,y:ge.y/2+we.y};var i=c.getDoubleTapZoom(!0,r.currItem),n=y===i;r.mouseZoomedIn=!n,r.zoomTo(n?r.currItem.initialZoomLevel:i,t,333),a[(n?"remove":"add")+"Class"](e,"pswp--zoomed-in")}}});var wi,yi,bi,xi,_i,Si,Ci,ki,Ii,Ti,Ei,Ai,Ri={history:!0,galleryUID:1},Di=function(){return Ei.hash.substring(1)},Oi=function(){wi&&clearTimeout(wi),bi&&clearTimeout(bi)},Mi=function(){var e=Di(),t={};if(e.length<5)return t;var i,n=e.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}if(c.galleryPIDs){var a=t.pid;for(t.pid=0,i=0;i<qt.length;i++)if(qt[i].pid===a){t.pid=i;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},Fi=function zi(){if(bi&&clearTimeout(bi),Qe||G)return void(bi=setTimeout(zi,500));xi?clearTimeout(yi):xi=!0;var e=p+1,t=Qt(p);t.hasOwnProperty("pid")&&(e=t.pid);var i=Ci+"&gid="+c.galleryUID+"&pid="+e;ki||Ei.hash.indexOf(i)===-1&&(Ti=!0);var n=Ei.href.split("#")[0]+"#"+i;Ai?"#"+i!==window.location.hash&&history[ki?"replaceState":"pushState"]("",document.title,n):ki?Ei.replace(n):Ei.hash=i,ki=!0,yi=setTimeout(function(){xi=!1},60)};ke("History",{publicMethods:{initHistory:function(){if(a.extend(c,Ri,!0),c.history){Ei=window.location,Ti=!1,Ii=!1,ki=!1,Ci=Di(),Ai="pushState"in history,Ci.indexOf("gid=")>-1&&(Ci=Ci.split("&gid=")[0],Ci=Ci.split("?gid=")[0]),Ee("afterChange",r.updateURL),Ee("unbindEvents",function(){a.unbind(window,"hashchange",r.onHashChange)});var e=function(){Si=!0,Ii||(Ti?history.back():Ci?Ei.hash=Ci:Ai?history.pushState("",document.title,Ei.pathname+Ei.search):Ei.hash=""),Oi()};Ee("unbindEvents",function(){m&&e()}),Ee("destroy",function(){Si||e()}),Ee("firstUpdate",function(){p=Mi().pid});var t=Ci.indexOf("pid=");t>-1&&(Ci=Ci.substring(0,t),"&"===Ci.slice(-1)&&(Ci=Ci.slice(0,-1))),setTimeout(function(){u&&a.bind(window,"hashchange",r.onHashChange)},40)}},onHashChange:function(){return Di()===Ci?(Ii=!0,void r.close()):void(xi||(_i=!0,r.goTo(Mi().pid),_i=!1))},updateURL:function(){Oi(),_i||(ki?wi=setTimeout(Fi,800):Fi())}}}),a.extend(r,ot)};return e})},{}],3:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){function t(t){var i=m(t).slideSelector;return t.find(i).map(function(t){var i=e(this).data("index",t),n=this.tagName.toUpperCase();return"A"===n?this.hash?i=e(this.hash):(i=i.find("img").eq(0),i.data("original-src",this.href)):"IMG"!==n&&(i=i.find("img")),i[0]})}function i(e){return function(t){var i=e.eq(t),n=i.offset(),o=i[0].width;return{x:n.left,y:n.top,w:o}}}function n(t,i){var n=e.Deferred(),o=i.data("original-src-"+t);return o?n.resolve(o):e("<img>").on("load",function(){n.resolve(this[t])}).attr("src",i.attr("src")),n.promise()}function o(e){return n("height",e)}function r(e){return n("width",e)}function l(t){var i=decodeURI(t.data("original-src")||t.attr("src")),n=i.match(/(\d+)[*×x](\d+)/);if(null!==n){var s=function(){var t=e.Deferred();return setTimeout(function(){t.resolve(Number(n[1]),Number(n[2]))},0),{v:t.promise()}}();if("object"===("undefined"==typeof s?"undefined":a(s)))return s.v}return e.when(r(t),o(t))}function u(){var t=e(this),i=t.data("original-src")||t.attr("src"),n=e.Deferred();return"IMG"!==this.tagName?n.resolve({html:this.innerHTML}):l(t).done(function(e,o){n.resolve({w:e,h:o,src:i,msrc:t.attr("src"),title:t.attr("alt")})}),n.promise()}function d(t){var i=t.map(u).get(),n=e.Deferred();return e.when.apply(e,i).done(function(){var e=Array.prototype.slice.call(arguments);n.resolve(e)}),n.promise()}function m(e){return e.data("photoswipeOptions")}function p(e){e.data("pswp-uid")||e.data("pswp-uid",x++)}function h(t,n,o,a){var r=e.extend(m(n).globalOptions,{index:t,getThumbBoundsFn:i(o),galleryUID:n.data("pswp-uid")}),l=new s["default"](b[0],c["default"],a,r);e.each(m(n).events,function(e,t){l.listen(e,t)}),l.init()}function f(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var i=e.split("&"),n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=parseInt(o[1],10))}return t}function g(e){var i=f();i.pid&&i.gid&&!function(){var n=e[i.gid-1],o=i.pid-1,a=t(n),r=d(a);r.done(function(e){h(o,n,a,e)})}()}function v(t,i,n){t.on("click.photoswipe",m(t).slideSelector,function(o){o.preventDefault(),h(e(this).data("index"),t,i,n)})}function w(e){e.off("click.photoswipe")}function y(e){var i=t(e),n=d(i);n.done(function(t){w(e),v(e,i,t)})}var b=e('<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>').appendTo("body"),x=1;e.fn.photoSwipe=function(){var i=arguments.length<=0||void 0===arguments[0]?"img":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],a={bgOpacity:.973,showHideOpacity:!0},r=e.extend(a,n),s=[],l="update"===i;return this.each(function(){if(l)return void y(e(this));var n=e(this).data("photoswipeOptions",{slideSelector:i,globalOptions:r,events:o}),a=t(n),c=d(a);p(n),s.push(n),c.done(function(e){v(n,a,e)})}),l||g(s),this},e.fn.photoSwipe.PhotoSwipe=s["default"]}Object.defineProperty(i,"__esModule",{value:!0}),i.PhotoSwipe=i["default"]=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=e("/Applications/MAMP/htdocs/jquery.photoswipe/node_modules/photoswipe/dist/photoswipe.js"),s=n(r),l=e("/Applications/MAMP/htdocs/jquery.photoswipe/node_modules/photoswipe/dist/photoswipe-ui-default.js"),c=n(l);o(jQuery),i["default"]=o,i.PhotoSwipe=s["default"]},{"/Applications/MAMP/htdocs/jquery.photoswipe/node_modules/photoswipe/dist/photoswipe-ui-default.js":1,"/Applications/MAMP/htdocs/jquery.photoswipe/node_modules/photoswipe/dist/photoswipe.js":2}]},{},[3]),function(e){"use strict";e.module("liveblog-embed").run(function(){window.LB.templates={"views/author.html":"/themes_assets/classic/views/author.html","views/comments.html":"/themes_assets/classic/views/comments.html","views/dropdown.html":"/themes_assets/classic/views/dropdown.html","views/gallery.html":"/themes_assets/classic/views/gallery.html","views/generic-embed.html":"/themes_assets/classic/views/generic-embed.html","views/item.html":"/themes_assets/classic/views/item.html","views/posts.html":"/themes_assets/classic/views/posts.html","views/embeds/twitter.html":"/themes_assets/classic/views/embeds/twitter.html","views/embeds/facebook.html":"/themes_assets/classic/views/embeds/facebook.html","views/embeds/instagram.html":"/themes_assets/classic/views/embeds/instagram.html","views/embeds/generic.html":"/themes_assets/classic/views/embeds/generic.html","views/embeds/consent-placeholder.html":"/themes_assets/classic/views/embeds/consent-placeholder.html"}})}(angular),function(e){"use strict";function t(t,i,n,o,a,r,s,l,c,u,d){function m(){return I.pagesManager.retrieveUpdate().then(function(e){I.newPosts=I.newPosts.concat(I.pagesManager.processUpdates(e,!S)),I.newStickyPosts=I.newStickyPosts.concat(I.stickyPagesManager.processUpdates(e,!C))})}function p(t){e.forEach(t.collection.advertisements,function(t){d.get({advertisementId:t.advertisement_id},function(t){var i=_.find(o.output.collection.advertisements,function(e){return e.advertisement_id===t._id});e.extend(i,t)})})}function h(){o.output&&o.output._id&&(o.output.collection&&o.output.collection.advertisements&&o.output.collection.advertisements.length&&!o.output.collection.advertisements[0]._id&&p(o.output),u.get({id:o.output._id},function(e){o.output.collection&&e.collection&&o.output.collection._etag!==e.collection._etag&&p(e),!o.output.collection&&e.collection&&p(e),o.output._etag!==e._etag&&(o.output=e,v())}))}function f(){n.get({},function(i){"closed"===i.blog_status&&(t.cancel(I.interval.posts),t.cancel(I.interval.blog)),e.extend(I.blog,i)}),h()}function g(e){e["background-image"]&&(e["background-image"]="url("+e["background-image"]+")")}function v(){o.output&&o.output.style&&(g(o.output.style),$("body").css(o.output.style))}var w=o.settings.postsPerPage,y=100,b=o.settings.permalinkDelimiter||"?",x=o.settings.postOrder,S=o.settings.loadNewPostsManually,C=!o.settings.livestream&&o.settings.loadNewPostsManually,k=1e4,I=this,T=new i(w,x,(!1)),E=new s(T,b),A=new i(y,x,(!0)),R=new s(A,b);I.enhance=function(e){if(e.length){if(o.output&&o.output.collection&&o.output.collection.advertisements&&o.output.collection.advertisements.length){var t=o.output.settings||{frequency:4,order:-1},i=o.output.collection.advertisements;if(1===t.order)for(var n,a=0;a<e.length;a+=t.frequency+1)n=a/(t.frequency+1)%i.length,e.splice(a,0,i[n]);else for(var n,a=e.length;a>0;a-=t.frequency)n=Math.floor(a/t.frequency)%i.length,e.splice(a,0,i[n])}return e}},h(),v();var D=[];if(window.LB.settings.showTagsDropdown){var O=[];window.LB.output&&(O=window.LB.output.tags,O.length>1&&(D=O)),0===D.length&&1!==O.length&&(D=window.LB.global_tags)}e.extend(I,{templateDir:o.assets_root,blog:l(o.blog),output:o.output,loading:!0,finished:!1,highlightsOnly:!1,settings:o.settings,newPosts:[],newStickyPosts:[],sortOptions:[{name:c("Editorial"),order:"editorial"},{name:c("Newest first"),order:"newest_first"},{name:c("Oldest first"),order:"oldest_first"}],tagsFilterOptions:D?D.map(function(e){return{name:e}}):[],orderBy:function(e){window.location.hash&&(window.location.hash=window.location.hash.replace(/&gid=[^&]+/g,"").replace(/&pid=[^&]+/g,"")),I.loading=!0,I.finished=!1,I.pagesManager.changeOrder(e).then(function(e){I.loading=!1,I.finished=e._meta.total<=e._meta.max_results*e._meta.page})},filterBy:function(e){window.location.hash&&(window.location.hash=window.location.hash.replace(/&gid=[^&]+/g,"").replace(/&pid=[^&]+/g,"")),I.loading=!0,I.finished=!1,I.pagesManager.filterPosts(e).then(function(e){I.loading=!1,I.finished=e._meta.total<=e._meta.max_results*e._meta.page})},fetchNewPage:function(){return I.loading=!0,I.pagesManager.fetchNewPage().then(function(e){I.loading=!1,I.finished=e._meta.total<=e._meta.max_results*e._meta.page})},permalinkScroll:function(){I.loading=!0,I.permalink.loadPost().then(function(e){a(e),I.loading=!1},function(){I.loading=!1})},isAllowedToLoadMore:function(){return!I.loading&&!I.finished},applyUpdates:function(){T.applyUpdates(I.newPosts,!0),I.newPosts=[],A.applyUpdates(I.newStickyPosts,!0),I.newStickyPosts=[]},toggleHighlighsOnly:function(){I.highlightsOnly=!I.highlightsOnly,I.loading=!0,I.finished=!1,o.settings.livestream||A.changeHighlight(I.highlightsOnly),T.changeHighlight(I.highlightsOnly).then(function(e){I.loading=!1,I.finished=e._meta.total<=e._meta.max_results*e._meta.page}),I.highlightsOnly&&(A.hideSticky=!1)},pagesManager:T,permalink:E,stickyPagesManager:A,stickyPermalink:R}),I.stickyPagesManager.fetchNewPage(),I.fetchNewPage().then(function(){function e(e){"loadMore"===e.data&&i()}I.permalinkScroll(),"closed"!==I.blog.blog_status&&(I.interval={posts:t(m,k),blog:t(f,3*k)});var i=_.debounce(I.fetchNewPage,1e3);window.addEventListener("message",e,!1)})}function i(){var e=this,t=_.filter(e.items,function(e){return"image"===e.item_type});e.images=_.each(t,function(e){var t=e.meta.credit,i=e.meta.caption;i=i?'"'+i+'"':i;var n=t?i+" by "+t:i;e.meta.full_caption=n})}function n(t){var i=this;i.showGallery=function(t){var n=0;return e.forEach(t.items,function(e){"image"===e.item_type&&n++}),n>1&&i.timeline.settings.showGallery},i.isAd=function(e){if(e.mainItem&&e.mainItem.item_type)return e.mainItem.item_type.indexOf("Advertisement")!==-1||e.mainItem.item_type.indexOf("Advertisment")!==-1},i.allPosts=function(){return i.enhance?i.enhance(i.posts()):i.posts()}}t.$inject=["$interval","PagesManager","blogs","config","$anchorScroll","$timeout","Permalink","transformBlog","gettext","outputs","advertisements"],n.$inject=["config"],e.module("theme",["liveblog-embed","ngAnimate","infinite-scroll","gettext"]).constant("assets_simplified_path",!0).run(["gettextCatalog","config",function(e,t){e.setCurrentLanguage(t.settings.language);var i={no:"nn"},n=t.settings.language;i[n]&&(n=i[n]),moment.locale(n)}]).run(["$rootScope",function(t){e.element(document).on("click",function(i){t.$broadcast("documentClicked",e.element(i.target))})}]).controller("TimelineCtrl",t).controller("PostsCtrl",n).controller("GalleryCtrl",i).directive("lbItem",["asset",function(e){return{restrict:"AE",scope:{ident:"=",item:"=",timeline:"=",gallery:"=",hideInfo:"@"},templateUrl:e.templateUrl("views/item.html")}}]).directive("lbAuthor",["asset",function(e){return{restrict:"AE",scope:{item:"=",post:"=",timeline:"="},templateUrl:e.templateUrl("views/author.html")}}]).directive("lbPosts",["asset",function(e){return{restrict:"E",scope:!0,bindToController:{posts:"=",enhance:"=",timeline:"=",hideInfo:"@"},controller:n,controllerAs:"ctrl",templateUrl:e.templateUrl("views/posts.html")}}]).directive("lbGallery",["asset",function(t){return{restrict:"AE",scope:{items:"="},bindToController:!0,controller:i,controllerAs:"gallery",templateUrl:t.templateUrl("views/gallery.html"),link:function(t,i,n,o){var a="img",r={showHideOpacity:!0,getThumbBoundsFn:!1,shareButtons:[]},s={margins:3};t.$watch(n.items,function(t){setTimeout(function(){var t=e.element(i).find(".gallery");$(t[0]).justifiedGallery(s).on("jg.complete",function(){$(this).photoSwipe(a,r)}),$(t[0]).on("click",".caption",function(e){e.preventDefault(),$(this).parent().find("img").click()})},100)})}}}]),e.module("infinite-scroll").value("THROTTLE_MILLISECONDS",1e3)}(angular),angular.module("gettext").run(["gettextCatalog",function(e){e.setStrings("cs",{Activate:"Aktivovat",Advertisement:"Reklama",Cancel:"Zrušit",Comment:"Váš příspěvek","Comment *":"Text *","Comment should be maximum 300 characters in length.":"Maximální délka textu je 300 znaků.",Editorial:"Redakční","Load more posts":"Načíst další",Loading:"Načítám","Name *":"Jméno *","Name should be maximum 30 characters in length.":"Maximální délka jména je 30 znaků.","Newest first":"Nejnovější","No posts for now.":"Žádné příspěvky.","Oldest first":"Nejstarší","One pinned post":["Jeden připnutý příspěvek","{{$count}} připnuté příspěvky","{{$count}} připnutých příspěvků"],"Please fill in your Comment.":"Napište váš text.","Please fill in your Name.":"Napište své jméno.","Post a comment":"Otázka / komentář","See one new update":["Zobraz 1 nový příspěvek","Zobraz {{$count}} nové příspěvky","Zobraz {{$count}} nových příspěvků"],Send:"Odeslat","Show all posts":"Zobrazit všechny","Show highlighted post only":"Zobraz jen zvýrazněné příspěvky","Sort by:":"Řazení:","Updated {{post.content_updated_date | prettifyIsoDate}}":"Aktualizace {{post.content_updated_date | prettifyIsoDate}}","Your comment was sent for approval.":"Váš text byl úspěšně odeslán. Čeká na schválení.","{{ item.meta.caption }} credit: {{ item.meta.credit }}":"{{ item.meta.caption }} autor: {{ item.meta.credit }}"}),e.setStrings("de",{Activate:"Aktivieren",Advertisement:"Werbung",Cancel:"Abbrechen",Comment:"Kommentar","Comment *":"Kommentar *","Comment should be maximum 300 characters in length.":"Kommentar darf maximal 300 Zeichen lang sein.",Editorial:"Redaktionell","Load more posts":"Mehr Einträge laden",Loading:"Lade","Name *":"Name","Name should be maximum 30 characters in length.":"Name darf maximal 30 Zeichen lang sein.","Newest first":"Neueste zuerst","No posts for now.":"Kein Beitrag vorhanden.","Oldest first":"Älteste zuerst","One pinned post":["Angehefteter Eintrag","{{$count}} Angeheftete Einträge"],"Please fill in your Comment.":"Bitte Kommentar hier eintragen.","Please fill in your Name.":"Bitte Namen hier eintragen.","Post a comment":"Kommentar posten","See one new update":["Neuen Beitrag anzeigen","Neue Beiträge anzeigen"],Send:"Abschicken","Share this post on Email":"Diesen Beitrag per E-Mail teilen","Share this post on Facebook":"Teile diesen Beitrag auf Facebook","Share this post on Google+":"Teile diesen Beitrag auf Google+","Share this post on Linkedin":"Teile diesen Beitrag auf Linkedin","Share this post on Twitter":"Teile diesen Beitrag auf Twitter","Show all posts":"Alle Beiträge anzeigen","Show highlighted post only":"Anzeigen hervorgehoben Beitrag ist nur","Social Share":"Soziales Teilen","Sort by:":"Ordnen nach:","Updated {{post.content_updated_date | prettifyIsoDate}}":"Aktualisiert am {{post.content_updated_date | prettifyIsoDate}}","Your comment was sent for approval.":"Ihr Kommentar wartet auf Freischaltung.","{{ item.meta.caption }} credit: {{ item.meta.credit }}":"{{ item.meta.caption }} Bild: {{ item.meta.credit }}"}),e.setStrings("fi",{Activate:"Aktivoida",Advertisement:"Mainos",Cancel:"Peruuta",Comment:"Kommentoi","Comment *":"Kommentti *","Comment should be maximum 300 characters in length.":"Kommentin enimmäispituus on 300 merkkiä.",Editorial:"Toimituksellinen","Load more posts":"Lataa lisää julkaisuja",Loading:"Lataa","Name *":"Nimi *","Name should be maximum 30 characters in length.":"Nimen enimmäispituus on 30 merkkiä.","Newest first":"Uusimmat ensin","No posts for now.":"Ei uusia julkaisuja.","Oldest first":"Vanhimmat ensin","One pinned post":["Yksi kiinnitetty julkaisu","{{$count}} kiinnitettyä julkaisua"],"Please fill in your Comment.":"Lisää kommenttisi.","Please fill in your Name.":"Lisää nimesi.","Post a comment":"Lähetä kommentti","See one new update":["Lataa yksi uusi julkaisu","Lataa {{$count}} uutta julkaisua"],Send:"Lähetä","Show all posts":"Näytä kaikki julkaisut","Show highlighted post only":"Näytä vain korostettu julkaisu","Sort by:":"Järjestä:","Updated {{post.content_updated_date | prettifyIsoDate}}":"Päivitetty {{post.content_updated_date | prettifyIsoDate}}","Your comment was sent for approval.":"Kommenttisi lähetettiin hyväksyttäväksi.","{{ item.meta.caption }} credit: {{ item.meta.credit }}":"{{ item.meta.caption }} © {{ item.meta.credit }}"}),e.setStrings("fr",{Activate:"Activer",Advertisement:"Publicité",Cancel:"Annuler",Comment:"Commentaire","Comment *":"Commentaire *","Comment should be maximum 300 characters in length.":"Un commentaire ne peut excéder 300 signes.",Editorial:"Éditorial","Load more posts":"Afficher plus de messages",Loading:"Chargement","Name *":"Nom *","Name should be maximum 30 characters in length.":"Le nom ne peut excéder 30 signes.","Newest first":"Le plus récent d'abord","No posts for now.":"Aucun message pour le moment.","Oldest first":"Plus ancien en premier","One pinned post":["Voir le nouveau message","Voir {{$count}} nouveaux messages"],"Please fill in your Comment.":"Votre commentaire.","Please fill in your Name.":"Votre nom.","Post a comment":"Envoyer un commentaire","See one new update":["Voir le nouveau message","Voir {{$count}} nouveaux messages"],Send:"Envoyer","Share this post on Email":"Partagez ce message par e-mail","Share this post on Facebook":"Partagez ce message par Facebook","Share this post on Google+":"Partagez ce message par Google+","Share this post on Linkedin":"Partagez ce message par Linkedin","Share this post on Twitter":"Partagez ce message par Twitter","Show all posts":"Afficher tous les messages","Show highlighted post only":"Afficher uniquement les messages en surbrillance","Social Share":"Partage Social","Sort by:":"Trier par:","Updated {{post.content_updated_date | prettifyIsoDate}}":"Mise à jour {{post.content_updated_date | prettifyIsoDate}}","Your comment was sent for approval.":"Votre commentaire a été envoyé et est en attente de validation.","{{ item.meta.caption }} credit: {{ item.meta.credit }}":"{{ item.meta.caption }} crédit: {{ item.meta.credit }}"}),e.setStrings("nl",{Activate:"Activeren",Advertisement:"Advertentie",Cancel:"Annuleren",Comment:"Reactie","Comment *":"Tekst *","Comment should be maximum 300 characters in length.":"Uw reactie van maximaal 300 tekens.",Editorial:"Redactioneel","Load more posts":"Meer",Loading:"Laden","Name *":"Naam *","Name should be maximum 30 characters in length.":"Uw naam kan maximaal 30 tekens lang zijn.","Newest first":"Toon nieuwste eerst","No posts for now.":"Nog geen berichten beschikbaar.","Oldest first":"Toon oudste eerst","One pinned post":["Bekijk nieuw bericht","Bekijk {{$count}} nieuwe berichten"],"Please fill in your Comment.":"Uw reactie.","Please fill in your Name.":"Vul hier uw naam in.","Post a comment":"Schrijf een reactie","See one new update":["Bekijk nieuw bericht","Bekijk {{$count}} nieuwe berichten"],Send:"Verzenden","Share this post on Email":"Deel dit bericht op e-mail","Share this post on Facebook":"Deel dit bericht op Facebook","Share this post on Google+":"Deel dit bericht op Google+","Share this post on Linkedin":"Deel dit bericht op LinkedIn","Share this post on Twitter":"Deel dit bericht op Twitter","Show all posts":"Toon alle berichten","Show highlighted post only":"Alleen gemarkeerde post weergeven","Social Share":"Sociaal aandeel","Sort by:":"Sorteer:","Updated {{post.content_updated_date | prettifyIsoDate}}":"Bijgewerkt {{post.content_updated_date | prettifyIsoDate}}","Your comment was sent for approval.":"Uw reactie is ontvangen ter beoordeling.","{{ item.meta.caption }} credit: {{ item.meta.credit }}":"{{ item.meta.caption }} credits: {{ item.meta.credit }}"}),e.setStrings("no",{Activate:"Aktiver",Advertisement:"Annonse",Cancel:"Avbryt",Comment:"Kommentar","Comment *":"Kommentar*","Comment should be maximum 300 characters in length.":"Kommentarer kan være inntil 300 tegn.",Editorial:"Redaksjonelt","Load more posts":"Henter flere poster",Loading:"Henter","Name *":"Navn*","Name should be maximum 30 characters in length.":"Navn kan ikke ha mer enn 30 tegn.","Newest first":"Nyeste først","No posts for now.":"Ingen poster for øyeblikket.","Oldest first":"Eldste først","One pinned post":["Én post festet til toppen","{{$count}} poster festet til toppen"],"Please fill in your Comment.":"Skriv inn din kommentar.","Please fill in your Name.":"Skriv inn navn.","Post a comment":"Post en kommentar","See one new update":["Se én ny oppdatering","Se {{$count}} nye oppdateringer"],Send:"Send","Show all posts":"Vis alle poster","Show highlighted post only":"Vis bare høydepunkter","Sort by:":"Sortér etter:","Updated {{post.content_updated_date | prettifyIsoDate}}":"Oppdatert {{post.content_updated_date | prettifyIsoDate}}","Your comment was sent for approval.":"Din kommentar er sendt til godkjenning.","{{ item.meta.caption }} credit: {{ item.meta.credit }}":"{{ item.meta.caption }} credit: {{ item.meta.credit }}"
}),e.setStrings("ro",{Activate:"Activati",Advertisement:"Reclamă",Cancel:"Anulează",Comment:"Comentează","Comment *":"Comentariu *","Comment should be maximum 300 characters in length.":"Comentariu nu poate fi mai lung de 300 de caractere.",Editorial:"Editorial","Load more posts":"Încarcă mai multe posturi",Loading:"Se încarcă","Name *":"Numele *","Name should be maximum 30 characters in length.":"Numele nu poate fi mai lung de 30 de caractere.","Newest first":"Cele mai noi","No posts for now.":"Deocamdata nu sunt articole.","Oldest first":"Cele mai vechi","One pinned post":["Vezi un articol nou","Vezi {{$count}} articole noi","Vezi {{$count}} de articole noi"],"Please fill in your Comment.":"Completează comentariu.","Please fill in your Name.":"Completează numele.","Post a comment":"Scrie un comentariu","See one new update":["Vezi un articol nou","Vezi {{$count}} articole noi","Vezi {{$count}} de articole noi"],Send:"Trimite","Sort by:":"Ordonează după:","Your comment was sent for approval.":"Comentariul tău a fost trimis spre aprobare."}),e.setStrings("sr",{Activate:"Aktivirati",Advertisement:"Reklama",Cancel:"Otkaži",Comment:"Komentar","Comment *":"Komentar *","Comment should be maximum 300 characters in length.":"Komentar je ograničen na 300 karaktera.",Editorial:"Izbor urednika","Load more posts":"Učitaj još postova",Loading:"Učitavanje","Name *":"Ime *","Name should be maximum 30 characters in length.":"Ime je ograničeno na 30 karaktera.","Newest first":"Od najnovijeg","No posts for now.":"Za sada nema postova.","Oldest first":"Od najstarijeg","One pinned post":["Pogledajte istaknut post","Pogledajte {{$count}} istaknuta posta","Pogledajte {{$count}} istaknutih postova"],"Please fill in your Comment.":"Molimo unesite vaš komentar.","Please fill in your Name.":"Molimo unesite vaše ime.","Post a comment":"Postavite komentar","See one new update":["Pogledajte novi post","Pogledajte {{$count}} nova posta","Pogledajte {{$count}} novih postova"],Send:"Pošalji","Share this post on Email":"Podelite ovaj post na Email","Share this post on Facebook":"Podelite ovaj post na Facebook","Share this post on Google+":"Podelite ovaj post na Google+","Share this post on Linkedin":"Podelite ovaj post na Linkedin","Share this post on Twitter":"Podelite ovaj post na Twitter","Show all posts":"Prikaži sve postove","Show highlighted post only":"Prikaži najvažnije postove","Social Share":"Društveni udeo","Sort by:":"Sortiraj:","Updated {{post.content_updated_date | prettifyIsoDate}}":"Ažurirano {{post.content_updated_date | prettifyIsoDate}}","Your comment was sent for approval.":"Vaš komentar je poslat na odobrenje.","{{ item.meta.caption }} credit: {{ item.meta.credit }}":"{{ item.meta.caption }} autor: {{ item.meta.credit }}"}),e.setStrings("sr_CY",{Activate:"Активирати",Advertisement:"Реклама",Cancel:"Откажи",Comment:"Коментар","Comment *":"Коментар *","Comment should be maximum 300 characters in length.":"Коментар је ограничен на 300 карактера.",Editorial:"Избор уредника","Load more posts":"Учитај још постова",Loading:"Учитавање","Name *":"Име *","Name should be maximum 30 characters in length.":"Име је ограничено на 30 карактера.","Newest first":"Од најновијег","No posts for now.":"За сада нема постова.","Oldest first":"Од најстаријег","One pinned post":["Погледајте истакнут пост","Погледајте {{$count}} истакнута поста","Погледајте {{$count}} истакнутих постова"],"Please fill in your Comment.":"Молимо унесите ваш коментар.","Please fill in your Name.":"Молимо унесите ваше име.","Post a comment":"Поставите коментар","See one new update":["Погледајте нови пост","Погледајте {{$count}} нова поста","Погледајте {{$count}} нових постова"],Send:"Пошаљи","Show all posts":"Прикажи све постове","Show highlighted post only":"Прикажи најважније постове","Sort by:":"Сортирај:","Updated {{post.content_updated_date | prettifyIsoDate}}":"Ажурирано {{post.content_updated_date | prettifyIsoDate}}","Your comment was sent for approval.":"Ваш коментар је послат на одобрење.","{{ item.meta.caption }} credit: {{ item.meta.credit }}":"{{ item.meta.caption }} аутор: {{ item.meta.credit }}"})}]),angular.module("theme").run(["$templateCache",function(e){e.put("views/author.html",'<div class="lb-author" ng-if="timeline.settings.showAuthor"><div ng-if="timeline.settings.showAuthor && timeline.settings.showAuthorAvatar" ng-class="{\'lb-author__avatar\': (item.item_type !== \'comment\'),\n                       \'lb-author__comment\': (item.item_type === \'comment\')}"><img ng-if="item.item_type !== \'comment\'" ng-src="{{ item.original_creator.picture_url }}" ng-srcset="{{ item.original_creator.picture_srcset }}" sizes="(min-width: 1600px) 200px, 60px"></div><div class="lb-author__date" ng-bind="item.displayDate | prettifyIsoDate"></div><div ng-if="!post.syndication_in || timeline.settings.showSyndicatedAuthor"><div ng-if="!timeline.settings.authorNameLinksToEmail && item.item_type !== \'comment\'" class="lb-author__name" ng-bind="item.original_creator[timeline.settings.authorNameFormat]"></div><div class="lb-author__name" ng-if="item.item_type === \'comment\'" ng-bind="item.original_creator[timeline.settings.authorNameFormat]"></div><div ng-if="timeline.settings.authorNameLinksToEmail && item.item_type !== \'comment\'" class="lb-author__name"><a href="mailto:{{post.mainItem.original_creator.email}}" ng-bind="post.original_creator[timeline.settings.authorNameFormat]"></a></div></div><div ng-if="post.syndication_in.producer_blog_title && !timeline.settings.showSyndicatedAuthor" class="lb-producer" ng-class="{\'lb-producer__author\': timeline.settings.showSyndicatedAuthor}" ng-bind="post.syndication_in.producer_blog_title"></div></div>'),e.put("views/comments.html",'<div class="modal modal-comment border-bottom ng-cloak" ng-show="modal"><div class="modal-dialog"><div ng-show="notify" class="notify"><div class="content"><div class="comment-sent modal-header"><h3 translate>Your comment was sent for approval.</h3></div></div></div><div ng-show="form"><form name="comment" novalidate ng-submit="send();"><div class="content"><div class="modal-header"><h2 translate>Post a comment</h2></div><div class="modal-body"><fieldset><div class="field"><label for="commenter" translate>Name *</label><input name="commenter" ng-model="commenter"><div role="alert"><span class="error" ng-show="commenter.length < 3" translate>Please fill in your Name.</span> <span class="error" ng-show="commenter.length >30" translate>Name should be maximum 30 characters in length.</span></div></div><div class="field"><label for="content" translate>Comment *</label><textarea name="content" ng-model="content"></textarea><div role="alert"><span class="error" ng-show="content.length < 3" translate>Please fill in your Comment.</span> <span class="error" ng-show="content.length > 300" translate>Comment should be maximum 300 characters in length.</span></div></div></fieldset></div><div class="modal-footer"><button class="btn" ng-click="comment=false"><span translate>Cancel</span></button> <button type="submit" class="btn btn-primary"><span translate>Send</span></button></div></div></form></div></div></div>'),e.put("views/dropdown.html",'<div class="dropdown-container" ng-class="{ \'show\': listVisible }"><div class="dropdown-display" ng-click="show();" ng-class="{ \'clicked\': listVisible }"><span ng-if="!isPlaceholder && type == \'single_select\'">{{display | translate}}</span> <span class="placeholder" ng-if="isPlaceholder || type == \'multiple_select\'">{{placeholder}}</span> <i class="icon-chevron-down"></i></div><div class="dropdown-list" ng-if="type == \'single_select\'"><div><div ng-repeat="item in list" ng-click="select(item)" ng-class="{ \'selected\': isSelected(item) }"><span>{{item.name | translate}}</span> <i class="icon-checkmark icon--white"></i></div></div></div><div class="dropdown-list" ng-if="type == \'multiple_select\'"><div><div ng-repeat="item in list" ng-click="check(item)" ng-class="{ \'selected\': isChecked(item) }"><span>{{item.name | translate}}</span> <i class="icon-checkmark icon--white"></i></div></div></div></div>'),e.put("views/gallery.html",'<div class="lb-gallery"><div class="justified-gallery gallery"><a class="picture" href="#" ng-repeat="item in gallery.images track by item._id"><img ng-src="{{ item.picture_url }}" ng-srcset="{{ item.picture_srcset }}" alt="{{ item.meta.full_caption }}" data-original-src="{{ item.meta.media.renditions.baseImage.href }}" data-original-src-height="{{ item.meta.media.renditions.baseImage.height }}" data-original-src-width="{{ item.meta.media.renditions.baseImage.width }}"></a></div></div>'),e.put("views/generic-embed.html",'<div ng-if="item.meta.html" class="item--embed" lb-bind-html html-content="{{item.meta.html | fixEmbed}}"></div><article ng-if="item.meta.title || item.meta.description || item.meta.credit\n        || (!item.meta.html && item.meta.thumbnail_url)" class="item--embed item--embed__wrapper"><a ng-href="{{ item.meta.url }}" ng-if="!item.meta.html && item.meta.thumbnail_url" target="_blank" ng-class="{ \'item--embed__illustration\': item.meta.description, \'item--embed__only-illustration\': !item.meta.description}"><img ng-src="{{ item.meta.thumbnail_url }}"></a><div class="item--embed__info" ng-if="item.meta.title || item.meta.description || item.meta.credit"><div class="item--embed__title" ng-if="item.meta.title"><a ng-href="{{ item.meta.url }}" target="_blank" ng-bind="item.meta.title"></a></div><div class="item--embed__description" ng-if="item.meta.description" ng-bind="item.meta.description"></div><div class="item--embed__credit" ng-if="item.meta.credit" ng-bind="item.meta.credit"></div></div></article>'),e.put("views/item.html",'<div ng-switch="item.group_type" ng-class="[\'lb-item-{{ item.item_type | varname }}\']"><div ng-switch-when="freetype"><article lb-bind-html html-content="{{ item.text }}"></article></div><div ng-switch-default><div ng-switch="item.item_type" ng-class="{\'lb-item\': ident}"><div ng-switch-when="embed|video" ng-switch-when-separator="|"><lb-gdpr-embed-consent item="item" timeline="timeline"></div><div ng-switch-when="image" ng-if="!gallery"><figure><img ng-src="{{ item.picture_url }}" ng-srcset="{{ item.picture_srcset }}" alt="{{ item.meta.caption }}" sizes="80vw"><figcaption translate ng-if="item.meta.credit">{{ item.meta.caption }} credit: {{ item.meta.credit }}</figcaption><figcaption ng-if="!item.meta.credit">{{ item.meta.caption }}</figcaption></figure></div><div ng-switch-when="quote"><blockquote><p ng-if="item.meta.quote">{{ item.meta.quote }}</p><h4 ng-if="item.meta.credit">{{ item.meta.credit }}</h4></blockquote></div><article ng-switch-default lb-bind-html html-content="{{ item.text | outboundAnchors | fixMarkup }}"></article></div></div></div>'),e.put("views/posts.html",'<article ng-repeat="post in ctrl.allPosts() track by (post.advertisement_id ? $index: post._id)" class="lb-post list-group-item ng-cloak" ng-class="[\'lb-mainitem-{{ post.mainItem.item_type | varname }}\', {\'show-author-avatar\':\n                        ctrl.timeline.settings.showAuthor &&\n                        ctrl.timeline.settings.showAuthorAvatar &&\n                        !ctrl.isAd(post) &&\n                        !ctrl.hideInfo,\n                    \'lb-post-permalink-selected\': post._id === timeline.permalink._id}]"><span ng-if="!ctrl.isAd(post) && !ctrl.hideInfo"><lb-author item="post.mainItem" timeline="timeline" post="post"></lb-author><div class="lb-post-highlighted" ng-if="post.lb_highlight"><i class="icon-star icon--orange"></i></div><div class="lb-post-social" ng-click="showSocialBox = !showSocialBox" ng-if="ctrl.timeline.settings.showSocialShare"><i class="fa fa-share share-icon" title="{{ \'Social Share\' | translate }}"></i><div ng-if="showSocialBox" class="share-box"><a href="//www.facebook.com/sharer.php?u={{ ctrl.timeline.permalink.get(post._id) }}" class="social facebook" target="_blank" title="{{ \'Share this post on Facebook\' | translate }}" onclick="openSocialShareWindow(this.href, 570, 400)"><span class="fa fa-facebook social-icon"></span> </a><a href="//twitter.com/intent/tweet?text={{ ctrl.timeline.permalink.get(post._id) }}\'" class="social twitter" target="_blank" title="{{ \'Share this post on Twitter\' | translate }}" onclick="openSocialShareWindow(this.href, 570, 400)"><span class="fa fa-twitter social-icon"></span> </a><a href="//www.linkedin.com/shareArticle?mini=true&url={{ ctrl.timeline.permalink.get(post._id) }}" class="social linkedin" target="_blank" title="{{ \'Share this post on Linkedin\' | translate }}" onclick="openSocialShareWindow(this.href, 570, 400)"><span class="fa fa-linkedin social-icon"></span> </a><a href="//plus.google.com/share?url={{ ctrl.timeline.permalink.get(post._id) }}" class="social google" target="_blank" title="{{ \'Share this post on Google+\' | translate }}" onclick="openSocialShareWindow(this.href, 570, 400)"><span class="fa fa-google-plus social-icon"></span> </a><a href="mailto:?to=&subject=Liveblog&body={{ ctrl.timeline.permalink.get(post._id) }}" class="social email" target="_blank" title="{{ \'Share this post on Email\' | translate }}" onclick="openSocialShareWindow(this.href, 1024, 768)"><span class="fa fa-envelope social-icon"></span></a></div></div><div class="lb-post-permalink"><a href="{{ ctrl.timeline.permalink.get(post._id) }}" id="{{ post._id }}" target="_blank"><i class="icon-link icon--blue"></i></a></div></span><lb-gallery items="post.items" ng-if="ctrl.showGallery(post)"></lb-gallery><span ng-if="ctrl.isAd(post)"><div class="lb-advertisement" translate>Advertisement</div></span><span></span><div ng-repeat="item in post.items track by item._id" class="lb-item lb-article-{{ item.item_type | varname }}"><div ng-if="post.fullDetails && !$first" class="list-group-item"><div class="lb-timeline__header"><lb-author item="item" timeline="ctrl.timeline" post="post"></lb-author><lb-item ident="true" item="item" timeline="timeline" gallery="ctrl.showGallery(post)"></lb-item></div></div><div ng-if="!post.fullDetails || $first"><lb-item timeline="timeline" item="item" gallery="ctrl.showGallery(post)"></lb-item></div></div><div class="lb-updated-date ng-cloak" ng-if="!ctrl.isAd(post) || ctrl.hideInfo" ng-show="post.showUpdate" translate>Updated {{post.content_updated_date | prettifyIsoDate}}</div></article>'),e.put("views/embeds/consent-placeholder.html",'<div class="lb_consent--placeholder"><div class="lb_consent--description"><div lb-bind-html html-content="{{ timeline.settings.gdprConsentText }}"></div><button class="btn btn-primary lb_consent--accept">{{ \'Activate\' | translate }}</button></div></div>'),e.put("views/embeds/facebook.html",'<div class="fb-post" data-href="{{ item.meta.original_url }}" data-show-text="true"><blockquote cite="{{ item.meta.original_url }}" class="fb-xfbml-parse-ignore"><h4><a href="{{ item.meta.original_url }}">{{ item.meta.credit }}</a></h4><p>{{ item.meta.title }}</p><div class="item--embed__description">{{ item.meta.description }}</div></blockquote></div>'),e.put("views/embeds/generic.html",'<div lb-generic-embed lb-fluid-iframe item="item"></div>'),e.put("views/embeds/instagram.html",'<blockquote class="embedly-card" data-card-controls="0"><h4><a href="{{ item.meta.original_url }}">{{ item.meta.credit }}</a></h4><p>{{ item.meta.title }}</p></blockquote>'),e.put("views/embeds/twitter.html",'<lb-twitter-card lb-twitter-content="{{ item.meta.html }}"></lb-twitter-card>')}]);